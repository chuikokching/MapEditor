<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Map puzzle</title>
    <link rel="stylesheet" href="src/leaflet.css">
    <link rel="stylesheet" href="src/css/bootstrap.css">
    <link rel="stylesheet" href="src/plugins/L.Control.Zoomslider.css">
    <link rel="stylesheet" href="src/plugins/L.Control.MousePosition.css">
    <link rel="stylesheet" href="src/plugins/L.Control.Sidebar.css">
    <link rel="stylesheet" href="src/plugins/easy-button.css">
    <script src="src/leaflet-src.js"></script>
    <script src="src/jquery-3.2.0.min.js"></script>
    <script src="src/plugins/L.Control.Zoomslider.js"></script>
    <script src="src/plugins/L.Control.MousePosition.js"></script>
    <script src="src/plugins/L.Control.Sidebar.js"></script>
    <script src="src/plugins/easy-button.js"></script>
    <script src="src/plugins/leaflet-providers.js"></script>
    <script src="src/plugins/Leaflet.Path.Drag-master/src/Path.Drag.js"></script>
    <script src="src/plugins/Leaflet.Path.Drag-master/src/Path.Transform.js"></script>
    <script src="src/plugins/Leaflet.Path.Drag-master/src/Canvas.js" ></script>
    <script src="src/plugins/Leaflet.Path.Drag-master/src/SVG.js" ></script>
    <script src="src/plugins/Leaflet.Path.Drag-master/src/SVG.VML.js" ></script>
    <script type="text/javascript" src="src/js/XMLGenerator.js"></script>
    <script src="src/plugins/FileSaver.js-master/src/FileSaver.js"></script>

    <script src="src/plugins/sweetalert-master/docs/assets/sweetalert/sweetalert.min.js"></script>
    <style>
        #mapdiv {
            height:100vh;
        }
        #eumapdiv{
            height:100vh;
        }
    </style>
</head>

<body>
<div>
    <div id="mapdiv" class="col-md-12"></div>
    <div id="eumapdiv" class="col-md-12"></div>
    <div id="side-bar" class="col-md-10">
        <h4>Zoom Level: <span id='zoom-level'></span></h4>
        <h4>Map Center: <span id='map-center'></span></h4>
        <h4>Mouse Location: <span id='mouse-location'></span></h4>
        <h4>Image Opacity: <span id='image-opacity'>0.5</span></h4>

        <br>
        <div>
            <button id="export_exerciseChain" class="btn btn-primary btn-block">ExerciseChain Export</button>
        </div>
        <br>
        <div>
            <button id="export_Stage" class="btn btn-primary btn-block">Stage Export</button>
        </div>
        <!--<input type='range' id='sldOpacity' min='0' max='1' step='0.1' value='0.5'>-->
    </div>

</div>

<script>
    var mymap;
    var lyrOSM;
    var lyrWatercolor;
    var lyrTopo;
    var lyrImagery;
    var lyrOutdoors;
    var lyStammtoner;
    var lyStammtonerlite;

    var lyrCavans;
    var ctlAttribute;
    var ctlMouseposition;
    var ctlEasybutton;
    var ctlSidebar;
    var ctlLayers;
    var objBasemaps;
    var objOverlays;

    var Xinjiang,Xinjiangpoly_array,Xinjiang_imageBound,Xinjiang_overlayer,Xinjiang_polygon;
    var Qinghai,Qinghaipoly_array,Qinghai_imageBound,Qinghai_overlayer,Qinghai_polygon;
    var Xizang,Xizangpoly_array,Xizang_imageBound,Xizang_overlayer,Xizang_polygon;
    var Sichuan,Sichuanpoly_array,Sichuan_imageBound,Sichuan_overlayer,Sichuan_polygon;
    var Yunnan,Yunnanpoly_array,Yunnan_imageBound,Yunnan_overlayer,Yunnan_polygon;
    var Neimeng,Neimengpoly_array,Neimeng_imageBound,Neimeng_overlayer,Neimeng_polygon;
    var Gansu,Gansupoly_array,Gansu_imageBound,Gansu_overlayer,Gansu_polygon;
    var Ningxia,Ningxiapoly_array,Ningxia_imageBound,Ningxia_overlayer,Ningxia_polygon;
    var Shaanxi,Shaanxipoly_array,Shaanxi_imageBound,Shaanxi_overlayer,Shaanxi_polygon;
    var Chongqing,Chongqingpoly_array,Chongqing_imageBound,Chongqing_overlayer,Chongqing_polygon;
    var Guizhou,Guizhoupoly_array,Guizhou_imageBound,Guizhou_overlayer,Guizhou_polygon;
    var Guangxi,Guangxipoly_array,Guangxi_imageBound,Guangxi_overlayer,Guangxi_polygon;
    var Guangdong,Guangdongpoly_array,Guangdong_imageBound,Guangdong_overlayer,Guangdong_polygon;
    var Fujian,Fujianpoly_array,Fujian_imageBound,Fujian_overlayer,Fujian_polygon;
    var Zhejiang,Zhejiangpoly_array,Zhejiang_imageBound,Zhejiang_overlayer,Zhejiang_polygon;
    var Hainan,Hainanpoly_array,Hainan_imageBound,Hainan_overlayer,Hainan_polygon;
    var Taiwan,Taiwanpoly_array,Taiwan_imageBound,Taiwan_overlayer,Taiwan_polygon;
    var Beijing,Beijingpoly_array, Beijing_polygon, Beijing_overlay, Beijing_imageBound;
    var Tianjin,Tianjinpoly_array, Tianjin_polygon, Tianjin_overlay, Tianjin_imageBound;
    var Hebei, Hebeipoly_array, Hebei_polygon, Hebei_overlay, Hebei_imageBound;
    var Shanxi, Shanxipoly_array, Shanxi_polygon, Shanxi_overlay, Shanxi_imageBound;
    var Henan, Henanpoly_array, Henan_polygon, Henan_overlay, Henan_imageBound;
    var Shandong, Shandongpoly_array, Shandong_polygon, Shandong_overlay, Shandong_imageBound;
    var Anhui, Anhuipoly_array, Anhui_polygon, Anhui_overlay, Anhui_imageBound;
    var Jiangsu, Jiangsupoly_array, Jiangsu_polygon, Jiangsu_overlay, Jiangsu_imageBound;
    var Shanghai, Shanghaipoly_array, Shanghai_polygon, Shanghai_overlay, Shanghai_imageBound;
    var Hubei, Hubeipoly_array, Hubei_polygon, Hubei_overlay, Hubei_imageBound;
    var Hunan, Hunanpoly_array, Hunan_polygon, Hunan_overlay, Hunan_imageBound;
    var Jiangxi, Jiangxipoly_array, Jiangxi_polygon, Jiangxi_overlay, Jiangxi_imageBound;
    var Heilongjiang, Heilongjiangpoly_array, Heilongjiang_polygon, Heilongjiang_overlay, Heilongjiang_imageBound;
    var Jilin, Jilinpoly_array, Jilin_polygon, Jilin_overlay, Jilin_imageBound;
    var Liaoning, Liaoningpoly_array, Liaoning_polygon, Liaoning_overlay, Liaoning_imageBound;

    $(document).ready(function(){
        mymap = L.map('mapdiv', {
            center:[31.61597,104.37012],
            zoom:4,
            scrollWheelZoom:true,
            dragging: true,
            zoomControl: false,
            attributionControl: false
        });


        lyrOSM = L.tileLayer.provider('OpenStreetMap.Mapnik');
        lyrTopo = L.tileLayer.provider('OpenTopoMap');
        lyrImagery = L.tileLayer.provider('Esri.WorldImagery');
        lyrOutdoors = L.tileLayer.provider('Thunderforest.Outdoors');
        lyrWatercolor = L.tileLayer.provider('Stamen.Watercolor');
        lyrCavans=L.tileLayer.provider('Esri.WorldGrayCanvas');
        lyStammtoner = L.tileLayer.provider('Stamen.TonerBackground');
        lyStammtonerlite = L.tileLayer.provider('Stamen.TonerLite');

        mymap.addLayer(lyStammtonerlite);

        mymap.options.maxZoom=5;
        mymap.options.minZoom=4;

        /*-------------------------------------China-------------------------------*/
        Xinjiang = L.imageOverlay('img-China/Xinjiang.png',[[49.34421,73.52867],[34.28052,96.26758]]);
        Qinghai  = L.imageOverlay('img-China/Qinghai.png',[[39.70569,89.20504],[31.50340,103.22121]]);
        Xizang  = L.imageOverlay('img-China/Xizang.png',[[36.73888,78.29082],[27.26166,99.1613]]);
        Sichuan  = L.imageOverlay('img-China/Sichuan.png',[[34.36086,97.23125],[25.92047,108.65254]]);
        Yunnan = L.imageOverlay('img-China/Yunnan.png',[[29.31167,97.40084],[21.14092,106.32357]]);
        Neimeng = L.imageOverlay('img-China/Neimeng.png',[[53.38677,97.00859],[37.30486,126.13516]]);
        Gansu = L.imageOverlay('img-China/Gansu.png',[[42.98375,92.45672],[32.45337,108.79648]]);
        Ningxia = L.imageOverlay('img-China/Ningxia.png',[[39.32922,104.36223],[35.26381,107.73982]]);
        Shaanxi = L.imageOverlay('img-China/Shaanxi.png',[[39.53619,105.50059],[31.67854,111.25742]]);
        Chongqing = L.imageOverlay('img-China/Chongqing.png',[[32.20119,105.23691],[28.17793,110.34668]]);
        Guizhou = L.imageOverlay('img-China/Guizhou.png',[[29.41053,103.59121],[24.59687,109.76172]]);
        Guangxi = L.imageOverlay('img-China/Guangxi.png',[[26.44922,104.46209],[21.44842,112.08252]]);
        Guangdong = L.imageOverlay('img-China/Guangdong.png',[[25.56311,109.58750],[20.20035,117.11426]]);
        Fujian = L.imageOverlay('img-China/Fujian.png',[[28.48306,115.60379],[23.39370,120.60199]]);
        Zhejiang = L.imageOverlay('img-China/Zhejiang.png',[[31.24099,117.83199],[27.15692,122.51756]]);
        Hainan = L.imageOverlay('img-China/Hainan.png',[[20.13465,108.52070],[18.08761,111.08980]]);
        Taiwan = L.imageOverlay('img-China/Taiwan.png',[[25.42047,119.97070],[21.94005,121.99263]]);
        Beijing = L.imageOverlay('img-China/BeiJing.png',[[39.44295423357212,117.53225326538087],[41.02394530775749,115.33979415893556]]);
        Tianjin = L.imageOverlay('img-China/TianJin.png',[[40.29563187448902,116.696605682373],[38.5242642913348,118.04105758666987]]);
        Hebei = L.imageOverlay('img-China/HeBei.png',[[42.60438894943289,113.3921241760254],[36.02924942219798,120.03112792968751]]);
        Shanxi = L.imageOverlay('img-China/ShanXi.png',[[40.73229952965293,110.0885009765625],[34.53965157244904,114.63787078857423]]);
        Henan = L.imageOverlay('img-China/HeNan.png',[[36.42937079795403,110.2852249145508],[31.35803465952307,116.66227340698244]]);
        Shandong = L.imageOverlay('img-China/ShanDong.png',[[38.35323417027068,114.83579635620119],[34.36554393708236,122.74251937866212]]);
        Anhui = L.imageOverlay('img-China/AnHui.png',[[34.678676074074396,114.7841262817383],[29.37305028781926,119.65810775756837]]);
        Jiangsu = L.imageOverlay('img-China/JiangSu.png',[[35.155424655879074,116.35877609252931],[30.779745878026066,122.01656341552736]]);
        Shanghai = L.imageOverlay('img-China/ShangHai.png',[[31.51036160966735,120.89458465576173],[30.645001287372306,122.03098297119142]]);
        Hubei = L.imageOverlay('img-China/HuBei.png',[[33.28849441355497,108.3439064025879],[29.03095708572103,116.29869461059572]]);
        Hunan = L.imageOverlay('img-China/HuNan.png',[[30.146166294528207,108.84275436401371],[24.627200793033516,114.3120574951172]]);
        Heilongjiang = L.imageOverlay('img-China/HeiLongJiang.png',[[53.7800234074995345,120.97233276367192],[43.10504748787035,135.00683731079104]]);
        Jilin = L.imageOverlay('img-China/JiLin.png',[[46.274003906149645,121.57264709472658],[40.81341947009765,131.28971099853518]]);
        Liaoning = L.imageOverlay('img-China/LiaoNing.png',[[43.50012984642269,118.80220413208009],[38.720206539465494,125.88151931762697]]);
        Jiangxi = L.imageOverlay('img-China/JiangXi.png',[[30.085285625055473,113.46336364746092],[24.435272449257038,118.61045837402348]]);

        temp1 =[[72.21762558220568,195.3515696525574], [78.88135276987812,195.3515696525574],
            [78.88135276987812,232.85157680511477], [72.21762558220568,232.85157680511477]];
        Xinjiangpoly_array=[[46.49839225859788,96.47461116313909], [58.72259882804355,96.47461116313909],
            [58.72259882804355,119.4433593749998], [46.49839225859788,119.4433593749998]];
        Qinghaipoly_array=[[14.00869637063485,85.83984553813933], [23.402764905408063,85.83984553813933],
            [23.402764905408063,99.84375000000001], [14.00869637063485,99.84375000000001]];
        Xizangpoly_array=[[36.26789620957783,130.4882830381391], [44.71551373202174,130.4882830381391],
            [44.71551373202174,151.58203303813903], [36.26789620957783,151.58203303813903]];
        Sichuanpoly_array=[[18.229351338386824,75.51269710063929], [27.137368359795786,75.51269710063929],
            [27.137368359795786,87.0556640625], [18.229351338386824,87.0556640625]];
        Yunnanpoly_array=[[12.897489183756248,111.3720721006391], [21.562095819718884,111.3720721006391],
            [21.562095819718884,120.36621093749974], [12.897489183756248,120.36621093749974]];
        Neimengpoly_array=[[17.056784609942873,121.99218749999974], [37.50972584293782,121.99218749999974],
            [37.50972584293782,150.93750357627835], [17.056784609942873,150.93750357627835]];
        Gansupoly_array=[[52.59859852077393,119.37011897563923], [59.77852198503,119.37011897563923],
            [59.77852198503,135.68847745656967], [52.59859852077393,135.68847745656967]];
        Ningxiapoly_array=[[48.66194284607024,150.79101741313937], [52.097507002556256,150.79101741313937],
            [52.097507002556256,154.3066424131393], [48.66194284607024,154.3066424131393]];
        Shaanxipoly_array=[[13.197164523282273,100.54687499999987], [22.471954507739518,100.54687499999987],
            [22.471954507739518,106.34765624999996], [13.197164523282273,106.34765624999996]];
        Chongqingpoly_array=[[46.34692761055689,144.08203214406967], [49.46812406733182,144.08203214406967],
            [49.46812406733182,149.12109553813917], [46.34692761055689,149.12109553813917]];
        Guizhoupoly_array=[[20.920396913972052,69.3603533506393], [25.839449402063412,69.3603533506393],
            [25.839449402063412,75.42480647563916], [20.920396913972052,75.42480647563916]];
        Guangxipoly_array=[[35.88905007936109,122.79785335063919], [40.178873314347165,122.79785335063919],
            [40.178873314347165,130.5615234374999], [35.88905007936109,130.5615234374999]];
        Guangdongpoly_array=[[56.05567944831357,135.96679687500009], [59.205938264709935,135.96679687500009],
            [59.205938264709935,143.7890624999997], [56.05567944831357,143.7890624999997]];
        Fujianpoly_array=[[41.640078384678986,147.15820401906967], [45.64476821775198,147.15820401906967],
            [45.64476821775198,151.84570491313937], [41.640078384678986,151.84570491313937]];
        Zhejiangpoly_array=[[52.96187505907611,138.04687678813937], [55.661061399119255,138.04687678813937],
            [55.661061399119255,142.8808611631393], [52.96187505907611,142.8808611631393]];
        Hainanpoly_array=[[54.367758524068456,144.84375000000006], [55.59490107236914,144.84375000000006],
            [55.59490107236914,147.56835937500003], [54.367758524068456,147.56835937500003]];
        Taiwanpoly_array=[[50.438847907639435,145.60547053813931], [52.83816992891243,145.60547053813931],
            [52.83816992891243,147.59765714406967], [50.438847907639435,147.59765714406967]];
        Beijingpoly_array = [[53.464240964548,94.05584335327143], [54.63947254501615,94.05584335327143],
            [54.63947254501615,96.34597778320307], [53.464240964548,96.34597778320307]];
        Tianjinpoly_array = [[54.375558294813366,89.494457244873], [55.689487908438075,89.494457244873],
            [55.689487908438075,90.83890914916991], [54.375558294813366,90.83890914916991]];
        Hebeipoly_array = [[38.779379916387995,68.6388511657715], [45.18070585818836,68.6388511657715],
            [45.18070585818836,75.45942306518556], [38.779379916387995,75.45942306518556]];
        Shanxipoly_array = [[32.26536210918115,63.24279785156248], [38.63577964379899,63.24279785156248],
            [38.63577964379899,67.7921676635742], [32.26536210918115,67.7921676635742]];
        Henanpoly_array = [[40.68454331694496,60.45124053955079], [45.070489849647295,60.45124053955079],
            [45.070489849647295,66.82828903198242], [40.68454331694496,66.82828903198242]];
        Shandongpoly_array = [[36.97128966642506,59.288921356201], [40.82498139044299,59.288921356201],
            [40.82498139044299,67.19564437866211], [36.97128966642506,67.19564437866211]];
        Anhuipoly_array = [[31.64446736237761,67.93842315673822], [36.81835507168012,67.93842315673822],
            [36.81835507168012,72.8124046325683], [31.64446736237761,72.8124046325683]];
        Jiangsupoly_array = [[44.17444795686899,64.06385421752928], [47.798050735684185,64.06385421752928],
            [47.798050735684185,69.72164154052732], [44.17444795686899,69.72164154052732]];
        Shanghaipoly_array = [[53.38824275010833,87.2764205932616], [53.98657831843078,87.2764205932616],
            [53.98657831843078,88.41281890869136], [53.38824275010833,88.41281890869136]];
        Hubeipoly_array = [[27.794135843885673,64.13492202758788], [32.10511588590253,64.13492202758788],
            [32.10511588590253,72.08971023559569], [27.794135843885673,72.08971023559569]];
        Hunanpoly_array = [[28.864068761776295,72.71970748901371], [34.16281244978306,72.71970748901371],
            [34.16281244978306,78.18901062011719], [28.864068761776295,78.18901062011719]];
        Heilongjiangpoly_array = [[44.29240108529013,67.20748901367183], [54.28677350114562,67.20748901367183],
            [54.28677350114562,80.85199356079099], [44.29240108529013,80.85199356079099]];
        Jilinpoly_array = [[48.37050559387284,77.45155334472658],[53.13616446377831,77.45155334472658],
            [53.13616446377831,87.16861724853517],[48.37050559387284,87.16861724853517]];
        Liaoningpoly_array = [[48.720300977075645,87.16157913208009],[52.73577196136776,87.16157913208009],
            [52.73577196136776,94.24089431762697],[48.720300977075645,94.24089431762697]];
        Jiangxipoly_array = [[53.427946519516695,80.1528167724609],[57.050908075962326,80.1528167724609],
            [57.050908075962326,85.2999114990234],[53.427946519516695,85.2999114990234]];


        Xinjiang_imageBound = L.latLngBounds([Xinjiangpoly_array[0], Xinjiangpoly_array[2]]);
        Beijing_imageBound = L.latLngBounds([Beijingpoly_array[0], Beijingpoly_array[2]]);
        Tianjin_imageBound = L.latLngBounds([Tianjinpoly_array[0], Tianjinpoly_array[2]]);
        Hebei_imageBound = L.latLngBounds([Hebeipoly_array[0], Hebeipoly_array[2]]);
        Shanxi_imageBound = L.latLngBounds([Shanxipoly_array[0], Shanxipoly_array[2]]);
        Henan_imageBound = L.latLngBounds([Henanpoly_array[0], Henanpoly_array[2]]);
        Shandong_imageBound = L.latLngBounds([Shandongpoly_array[0], Shandongpoly_array[2]]);
        Anhui_imageBound = L.latLngBounds([Anhuipoly_array[0], Anhuipoly_array[2]]);
        Jiangsu_imageBound = L.latLngBounds([Jiangsupoly_array[0], Jiangsupoly_array[2]]);
        Shanghai_imageBound = L.latLngBounds([Shanghaipoly_array[0], Shanghaipoly_array[2]]);
        Hubei_imageBound = L.latLngBounds([Hubeipoly_array[0], Hubeipoly_array[2]]);
        Hunan_imageBound = L.latLngBounds([Hunanpoly_array[0], Hunanpoly_array[2]]);
        Heilongjiang_imageBound = L.latLngBounds([Heilongjiangpoly_array[0], Heilongjiangpoly_array[2]]);
        Jilin_imageBound = L.latLngBounds([Jilinpoly_array[0], Jilinpoly_array[2]]);
        Liaoning_imageBound = L.latLngBounds([Liaoningpoly_array[0], Liaoningpoly_array[2]]);
        Jiangxi_imageBound = L.latLngBounds([Jiangxipoly_array[0], Jiangxipoly_array[2]]);
        Qinghai_imageBound = L.latLngBounds([Qinghaipoly_array[0], Qinghaipoly_array[2]]);
        Xizang_imageBound = L.latLngBounds([Xizangpoly_array[0], Xizangpoly_array[2]]);
        Sichuan_imageBound = L.latLngBounds([Sichuanpoly_array[0], Sichuanpoly_array[2]]);
        Yunnan_imageBound = L.latLngBounds([Yunnanpoly_array[0], Yunnanpoly_array[2]]);
        Neimeng_imageBound = L.latLngBounds([Neimengpoly_array[0], Neimengpoly_array[2]]);
        Gansu_imageBound = L.latLngBounds([Gansupoly_array[0], Gansupoly_array[2]]);
        Ningxia_imageBound = L.latLngBounds([Ningxiapoly_array[0], Ningxiapoly_array[2]]);
        Shaanxi_imageBound = L.latLngBounds([Shaanxipoly_array[0], Shaanxipoly_array[2]]);
        Chongqing_imageBound = L.latLngBounds([Chongqingpoly_array[0], Chongqingpoly_array[2]]);
        Guizhou_imageBound = L.latLngBounds([Guizhoupoly_array[0], Guizhoupoly_array[2]]);
        Guangxi_imageBound = L.latLngBounds([Guangxipoly_array[0], Guangxipoly_array[2]]);
        Guangdong_imageBound = L.latLngBounds([Guangdongpoly_array[0], Guangdongpoly_array[2]]);
        Fujian_imageBound = L.latLngBounds([Fujianpoly_array[0], Fujianpoly_array[2]]);
        Zhejiang_imageBound = L.latLngBounds([Zhejiangpoly_array[0], Zhejiangpoly_array[2]]);
        Hainan_imageBound = L.latLngBounds([Hainanpoly_array[0], Hainanpoly_array[2]]);
        Taiwan_imageBound = L.latLngBounds([Taiwanpoly_array[0], Taiwanpoly_array[2]]);


        Xinjiang_overlayer = L.imageOverlay(('img-China/Xinjiang.png'),Xinjiang_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Beijing_overlay = L.imageOverlay(('img-China/BeiJing.png'),Beijing_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Tianjin_overlay = L.imageOverlay(('img-China/TianJin.png'),Tianjin_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Hebei_overlay = L.imageOverlay(('img-China/HeBei.png'),Hebei_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Shanxi_overlay = L.imageOverlay(('img-China/ShanXi.png'),Shanxi_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Henan_overlay = L.imageOverlay(('img-China/HeNan.png'),Henan_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Shandong_overlay = L.imageOverlay(('img-China/ShanDong.png'),Shandong_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Anhui_overlay = L.imageOverlay(('img-China/AnHui.png'),Anhui_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Jiangsu_overlay = L.imageOverlay(('img-China/JiangSu.png'),Jiangsu_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Shanghai_overlay = L.imageOverlay(('img-China/ShangHai.png'),Shanghai_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Hubei_overlay = L.imageOverlay(('img-China/HuBei.png'),Hubei_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Hunan_overlay = L.imageOverlay(('img-China/HuNan.png'),Hunan_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Heilongjiang_overlay = L.imageOverlay(('img-China/HeiLongJiang.png'),Heilongjiang_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Jilin_overlay = L.imageOverlay(('img-China/JiLin.png'), Jilin_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Liaoning_overlay = L.imageOverlay(('img-China/LiaoNing.png'), Liaoning_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Jiangxi_overlay = L.imageOverlay(('img-China/JiangXi.png'), Jiangxi_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Qinghai_overlayer = L.imageOverlay(('img-China/Qinghai.png'),Qinghai_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Xizang_overlayer = L.imageOverlay(('img-China/Xizang.png'),Xizang_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Sichuan_overlayer = L.imageOverlay(('img-China/Sichuan.png'),Sichuan_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Yunnan_overlayer = L.imageOverlay(('img-China/Yunnan.png'),Yunnan_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Neimeng_overlayer = L.imageOverlay(('img-China/Neimeng.png'),Neimeng_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Gansu_overlayer = L.imageOverlay(('img-China/Gansu.png'),Gansu_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Ningxia_overlayer = L.imageOverlay(('img-China/Ningxia.png'),Ningxia_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Shaanxi_overlayer = L.imageOverlay(('img-China/Shaanxi.png'),Shaanxi_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Chongqing_overlayer = L.imageOverlay(('img-China/Chongqing.png'),Chongqing_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Guizhou_overlayer = L.imageOverlay(('img-China/Guizhou.png'),Guizhou_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Guangxi_overlayer = L.imageOverlay(('img-China/Guangxi.png'),Guangxi_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Guangdong_overlayer = L.imageOverlay(('img-China/Guangdong.png'),Guangdong_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Fujian_overlayer = L.imageOverlay(('img-China/Fujian.png'),Fujian_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Zhejiang_overlayer = L.imageOverlay(('img-China/Zhejiang.png'),Zhejiang_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Hainan_overlayer = L.imageOverlay(('img-China/Hainan.png'),Hainan_imageBound,{opacity:1, interactive:true}).addTo(mymap);
        Taiwan_overlayer = L.imageOverlay(('img-China/Taiwan.png'),Taiwan_imageBound,{opacity:1, interactive:true}).addTo(mymap);


        Xinjiang_polygon = L.polygon((Xinjiangpoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Qinghai_polygon = L.polygon((Qinghaipoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Xizang_polygon = L.polygon((Xizangpoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Sichuan_polygon = L.polygon((Sichuanpoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Yunnan_polygon = L.polygon((Yunnanpoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Neimeng_polygon = L.polygon((Neimengpoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Gansu_polygon = L.polygon((Gansupoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Ningxia_polygon = L.polygon((Ningxiapoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Shaanxi_polygon = L.polygon((Shaanxipoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Chongqing_polygon = L.polygon((Chongqingpoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Guizhou_polygon = L.polygon((Guizhoupoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Guangxi_polygon = L.polygon((Guangxipoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Guangdong_polygon = L.polygon((Guangdongpoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Fujian_polygon = L.polygon((Fujianpoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Zhejiang_polygon = L.polygon((Zhejiangpoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Hainan_polygon = L.polygon((Hainanpoly_array),{draggable: true,opacity:0, fillOpacity:0}).addTo(mymap);
        Taiwan_polygon = L.polygon((Taiwanpoly_array),{draggable: true, opacity:0, fillOpacity:0}).addTo(mymap);
        Beijing_polygon = L.polygon((Beijingpoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Tianjin_polygon = L.polygon((Tianjinpoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Hebei_polygon = L.polygon((Hebeipoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Shanxi_polygon = L.polygon((Shanxipoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Henan_polygon = L.polygon((Henanpoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Shandong_polygon = L.polygon((Shandongpoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Anhui_polygon = L.polygon((Anhuipoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Jiangsu_polygon = L.polygon((Jiangsupoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Shanghai_polygon = L.polygon((Shanghaipoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Hubei_polygon = L.polygon((Hubeipoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Hunan_polygon = L.polygon((Hunanpoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Heilongjiang_polygon = L.polygon((Heilongjiangpoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Jilin_polygon = L.polygon((Jilinpoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Liaoning_polygon = L.polygon((Liaoningpoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);
        Jiangxi_polygon = L.polygon((Jiangxipoly_array), {draggable: true, opacity: 0, fillOpacity: 0}).addTo(mymap);

        Xinjiang_polygon.on('drag',function (e) {Xinjiang_overlayer.setBounds(Xinjiang_polygon.getBounds());});
        Xinjiang_polygon.on('dragstart',function (e) {Xinjiang_overlayer.setBounds(Xinjiang_polygon.getBounds());});
        Xinjiang_polygon.on('dragend',function (e) {Xinjiang_overlayer.setBounds(Xinjiang_polygon.getBounds());
            if(Number(Xinjiang_polygon.getBounds().getNorthWest().lat)<50.94421 && Number(Xinjiang_polygon.getBounds().getSouthEast().lng)<97.86758
                &&Number(Xinjiang_polygon.getBounds().getSouthEast().lat)>33.00052 && Number(Xinjiang_polygon.getBounds().getNorthWest().lng)>72.08867)
            {swal({position: 'top-end', text: 'Xinjiang', icon:"success", buttons: false, timer: 1000});
                Xinjiang_overlayer.setBounds(Xinjiang.getBounds());
                Xinjiang_polygon.dragging.disable();
                Xinjiang_polygon.setLatLngs(temp1);}});

        Qinghai_polygon.on('drag',function (e) {Qinghai_overlayer.setBounds(Qinghai_polygon.getBounds());});
        Qinghai_polygon.on('dragstart',function (e) {Qinghai_overlayer.setBounds(Qinghai_polygon.getBounds());});
        Qinghai_polygon.on('dragend',function (e) {Qinghai_overlayer.setBounds(Qinghai_polygon.getBounds());
            if(Number(Qinghai_polygon.getBounds().getNorthWest().lat)<40.70569 && Number(Qinghai_polygon.getBounds().getSouthEast().lng)<104.22121
                &&Number(Qinghai_polygon.getBounds().getSouthEast().lat)>30.66340 && Number(Qinghai_polygon.getBounds().getNorthWest().lng)>88.15504)
            {swal({position: 'top-end', text: 'Qinghai', icon:"success", buttons: false, timer: 1000});
                Qinghai_overlayer.setBounds(Qinghai.getBounds());
                Qinghai_polygon.dragging.disable();
                Qinghai_polygon.setLatLngs(temp1);}});

        Xizang_polygon.on('drag',function (e) {Xizang_overlayer.setBounds(Xizang_polygon.getBounds());});
        Xizang_polygon.on('dragstart',function (e) {Xizang_overlayer.setBounds(Xizang_polygon.getBounds());});
        Xizang_polygon.on('dragend',function (e) {Xizang_overlayer.setBounds(Xizang_polygon.getBounds());
            if(Number(Xizang_polygon.getBounds().getNorthWest().lat)<37.73888 && Number(Xizang_polygon.getBounds().getSouthEast().lng)<100.1613
                &&Number(Xizang_polygon.getBounds().getSouthEast().lat)>26.26166 && Number(Xizang_polygon.getBounds().getNorthWest().lng)>77.29082)
            {swal({position: 'top-end', text: 'Xizang', icon:"success", buttons: false, timer: 1000});
                Xizang_overlayer.setBounds(Xizang.getBounds());
                Xizang_polygon.dragging.disable();
                Xizang_polygon.setLatLngs(temp1);}});

        Sichuan_polygon.on('drag',function (e) {Sichuan_overlayer.setBounds(Sichuan_polygon.getBounds());});
        Sichuan_polygon.on('dragstart',function (e) {Sichuan_overlayer.setBounds(Sichuan_polygon.getBounds());});
        Sichuan_polygon.on('dragend',function (e) {Sichuan_overlayer.setBounds(Sichuan_polygon.getBounds());
            if(Number(Sichuan_polygon.getBounds().getNorthWest().lat)<35.36086 && Number(Sichuan_polygon.getBounds().getSouthEast().lng)<109.65254
                &&Number(Sichuan_polygon.getBounds().getSouthEast().lat)>24.92047 && Number(Sichuan_polygon.getBounds().getNorthWest().lng)>96.23125)
            {swal({position: 'top-end', text: 'Sichuan', icon:"success", buttons: false, timer: 1000});
                Sichuan_overlayer.setBounds(Sichuan.getBounds());
                Sichuan_polygon.dragging.disable();
                Sichuan_polygon.setLatLngs(temp1);}});

        Yunnan_polygon.on('drag',function (e) {Yunnan_overlayer.setBounds(Yunnan_polygon.getBounds());});
        Yunnan_polygon.on('dragstart',function (e) {Yunnan_overlayer.setBounds(Yunnan_polygon.getBounds());});
        Yunnan_polygon.on('dragend',function (e) {Yunnan_overlayer.setBounds(Yunnan_polygon.getBounds());
            if(Number(Yunnan_polygon.getBounds().getNorthWest().lat)<30.31167 && Number(Yunnan_polygon.getBounds().getSouthEast().lng)<107.12357
                &&Number(Yunnan_polygon.getBounds().getSouthEast().lat)>20.14092 && Number(Yunnan_polygon.getBounds().getNorthWest().lng)>96.50084)
            {swal({position: 'top-end', text: 'Yunnan', icon:"success", buttons: false, timer: 1000});
                Yunnan_overlayer.setBounds(Yunnan.getBounds());
                Yunnan_polygon.dragging.disable();
                Yunnan_polygon.setLatLngs(temp1);}});

        Neimeng_polygon.on('drag',function (e) {Neimeng_overlayer.setBounds(Neimeng_polygon.getBounds());});
        Neimeng_polygon.on('dragstart',function (e) {Neimeng_overlayer.setBounds(Neimeng_polygon.getBounds());});
        Neimeng_polygon.on('dragend',function (e) {Neimeng_overlayer.setBounds(Neimeng_polygon.getBounds());
            if(Number(Neimeng_polygon.getBounds().getNorthWest().lat)<54.36677 && Number(Neimeng_polygon.getBounds().getSouthEast().lng)<127.19516
                &&Number(Neimeng_polygon.getBounds().getSouthEast().lat)>36.37486 && Number(Neimeng_polygon.getBounds().getNorthWest().lng)>96.05859)
            {swal({position: 'top-end', text: 'Neimeng', icon:"success", buttons: false, timer: 1000});
                Neimeng_overlayer.setBounds(Neimeng.getBounds());
                Neimeng_polygon.dragging.disable();
                Neimeng_polygon.setLatLngs(temp1);}});

        Gansu_polygon.on('drag',function (e) {Gansu_overlayer.setBounds(Gansu_polygon.getBounds());});
        Gansu_polygon.on('dragstart',function (e) {Gansu_overlayer.setBounds(Gansu_polygon.getBounds());});
        Gansu_polygon.on('dragend',function (e) {Gansu_overlayer.setBounds(Gansu_polygon.getBounds());
            if(Number(Gansu_polygon.getBounds().getNorthWest().lat)<43.98375&& Number(Gansu_polygon.getBounds().getSouthEast().lng)<109.79648
                &&Number(Gansu_polygon.getBounds().getSouthEast().lat)>31.45337 && Number(Gansu_polygon.getBounds().getNorthWest().lng)>91.45672)
            {swal({position: 'top-end', text: 'Gansu', icon:"success", buttons: false, timer: 1000});
                Gansu_overlayer.setBounds(Gansu.getBounds());
                Gansu_polygon.dragging.disable();
                Gansu_polygon.setLatLngs(temp1);}});

        Ningxia_polygon.on('drag',function (e) {Ningxia_overlayer.setBounds(Ningxia_polygon.getBounds());});
        Ningxia_polygon.on('dragstart',function (e) {Ningxia_overlayer.setBounds(Ningxia_polygon.getBounds());});
        Ningxia_polygon.on('dragend',function (e) {Ningxia_overlayer.setBounds(Ningxia_polygon.getBounds());
            if(Number(Ningxia_polygon.getBounds().getNorthWest().lat)<40.32922&& Number(Ningxia_polygon.getBounds().getSouthEast().lng)<108.73982
                &&Number(Ningxia_polygon.getBounds().getSouthEast().lat)>34.26381 && Number(Ningxia_polygon.getBounds().getNorthWest().lng)>103.36223)
            {swal({position: 'top-end', text: 'Ningxia', icon:"success", buttons: false, timer: 1000});
                Ningxia_overlayer.setBounds(Ningxia.getBounds());
                Ningxia_polygon.dragging.disable();
                Ningxia_polygon.setLatLngs(temp1);}});

        Shaanxi_polygon.on('drag',function (e) {Shaanxi_overlayer.setBounds(Shaanxi_polygon.getBounds());});
        Shaanxi_polygon.on('dragstart',function (e) {Shaanxi_overlayer.setBounds(Shaanxi_polygon.getBounds());});
        Shaanxi_polygon.on('dragend',function (e) {Shaanxi_overlayer.setBounds(Shaanxi_polygon.getBounds());
            if(Number(Shaanxi_polygon.getBounds().getNorthWest().lat)<40.53619&& Number(Shaanxi_polygon.getBounds().getSouthEast().lng)<112.25742
                &&Number(Shaanxi_polygon.getBounds().getSouthEast().lat)>30.67854 && Number(Shaanxi_polygon.getBounds().getNorthWest().lng)>104.50059)
            {swal({position: 'top-end', text: 'Shaanxi', icon:"success", buttons: false, timer: 1000});
                Shaanxi_overlayer.setBounds(Shaanxi.getBounds());
                Shaanxi_polygon.dragging.disable();
                Shaanxi_polygon.setLatLngs(temp1);}});

        Chongqing_polygon.on('drag',function (e) {Chongqing_overlayer.setBounds(Chongqing_polygon.getBounds());});
        Chongqing_polygon.on('dragstart',function (e) {Chongqing_overlayer.setBounds(Chongqing_polygon.getBounds());});
        Chongqing_polygon.on('dragend',function (e) {Chongqing_overlayer.setBounds(Chongqing_polygon.getBounds());
            if(Number(Chongqing_polygon.getBounds().getNorthWest().lat)<33.20119&& Number(Chongqing_polygon.getBounds().getSouthEast().lng)<111.34668
                &&Number(Chongqing_polygon.getBounds().getSouthEast().lat)>27.17793 && Number(Chongqing_polygon.getBounds().getNorthWest().lng)>104.23691)
            {swal({position: 'top-end', text: 'Chongqing', icon:"success", buttons: false, timer: 1000});
                Chongqing_overlayer.setBounds(Chongqing.getBounds());
                Chongqing_polygon.dragging.disable();
                Chongqing_polygon.setLatLngs(temp1);}});

        Guizhou_polygon.on('drag',function (e) {Guizhou_overlayer.setBounds(Guizhou_polygon.getBounds());});
        Guizhou_polygon.on('dragstart',function (e) {Guizhou_overlayer.setBounds(Guizhou_polygon.getBounds());});
        Guizhou_polygon.on('dragend',function (e) {Guizhou_overlayer.setBounds(Guizhou_polygon.getBounds());
            if(Number(Guizhou_polygon.getBounds().getNorthWest().lat)<30.41053&& Number(Guizhou_polygon.getBounds().getSouthEast().lng)<110.76172
                &&Number(Guizhou_polygon.getBounds().getSouthEast().lat)>23.59687 && Number(Guizhou_polygon.getBounds().getNorthWest().lng)>102.59121)
            {swal({position: 'top-end', text: 'Guizhou', icon:"success", buttons: false, timer: 1000});
                Guizhou_overlayer.setBounds(Guizhou.getBounds());
                Guizhou_polygon.dragging.disable();
                Guizhou_polygon.setLatLngs(temp1);}});

        Guangxi_polygon.on('drag',function (e) {Guangxi_overlayer.setBounds(Guangxi_polygon.getBounds());});
        Guangxi_polygon.on('dragstart',function (e) {Guangxi_overlayer.setBounds(Guangxi_polygon.getBounds());});
        Guangxi_polygon.on('dragend',function (e) {Guangxi_overlayer.setBounds(Guangxi_polygon.getBounds());
            if(Number(Guangxi_polygon.getBounds().getNorthWest().lat)<27.44922&& Number(Guangxi_polygon.getBounds().getSouthEast().lng)<113.08252
                &&Number(Guangxi_polygon.getBounds().getSouthEast().lat)>20.44842 && Number(Guangxi_polygon.getBounds().getNorthWest().lng)>103.46209)
            {swal({position: 'top-end', text: 'Guangxi', icon:"success", buttons: false, timer: 1000});
                Guangxi_overlayer.setBounds(Guangxi.getBounds());
                Guangxi_polygon.dragging.disable();
                Guangxi_polygon.setLatLngs(temp1);}});

        Guangdong_polygon.on('drag',function (e) {Guangdong_overlayer.setBounds(Guangdong_polygon.getBounds());});
        Guangdong_polygon.on('dragstart',function (e) {Guangdong_overlayer.setBounds(Guangdong_polygon.getBounds());});
        Guangdong_polygon.on('dragend',function (e) {Guangdong_overlayer.setBounds(Guangdong_polygon.getBounds());
            if(Number(Guangdong_polygon.getBounds().getNorthWest().lat)<26.56311&& Number(Guangdong_polygon.getBounds().getSouthEast().lng)<118.11426
                &&Number(Guangdong_polygon.getBounds().getSouthEast().lat)>19.20035&& Number(Guangdong_polygon.getBounds().getNorthWest().lng)>108.58750)
            {swal({position: 'top-end', text: 'Guangdong', icon:"success", buttons: false, timer: 1000});
                Guangdong_overlayer.setBounds(Guangdong.getBounds());
                Guangdong_polygon.dragging.disable();
                Guangdong_polygon.setLatLngs(temp1);}});

        Fujian_polygon.on('drag',function (e) {Fujian_overlayer.setBounds(Fujian_polygon.getBounds());});
        Fujian_polygon.on('dragstart',function (e) {Fujian_overlayer.setBounds(Fujian_polygon.getBounds());});
        Fujian_polygon.on('dragend',function (e) {Fujian_overlayer.setBounds(Fujian_polygon.getBounds());
            if(Number(Fujian_polygon.getBounds().getNorthWest().lat)<29.48306&& Number(Fujian_polygon.getBounds().getSouthEast().lng)<121.60199
                &&Number(Fujian_polygon.getBounds().getSouthEast().lat)>22.39370&& Number(Fujian_polygon.getBounds().getNorthWest().lng)>114.60379)
            {swal({position: 'top-end', text: 'Fujian', icon:"success", buttons: false, timer: 1000});
                Fujian_overlayer.setBounds(Fujian.getBounds());
                Fujian_polygon.dragging.disable();
                Fujian_polygon.setLatLngs(temp1);}});

        Zhejiang_polygon.on('drag',function (e) {Zhejiang_overlayer.setBounds(Zhejiang_polygon.getBounds());});
        Zhejiang_polygon.on('dragstart',function (e) {Zhejiang_overlayer.setBounds(Zhejiang_polygon.getBounds());});
        Zhejiang_polygon.on('dragend',function (e) {Zhejiang_overlayer.setBounds(Zhejiang_polygon.getBounds());
            if(Number(Zhejiang_polygon.getBounds().getNorthWest().lat)<32.24099&& Number(Zhejiang_polygon.getBounds().getSouthEast().lng)<123.51756
                &&Number(Zhejiang_polygon.getBounds().getSouthEast().lat)>26.15692&& Number(Zhejiang_polygon.getBounds().getNorthWest().lng)>116.83199)
            {swal({position: 'top-end', text: 'Zhejiang', icon:"success", buttons: false, timer: 1000});
                Zhejiang_overlayer.setBounds(Zhejiang.getBounds());
                Zhejiang_polygon.dragging.disable();
                Zhejiang_polygon.setLatLngs(temp1);}});

        Hainan_polygon.on('drag',function (e) {Hainan_overlayer.setBounds(Hainan_polygon.getBounds());});
        Hainan_polygon.on('dragstart',function (e) {Hainan_overlayer.setBounds(Hainan_polygon.getBounds());});
        Hainan_polygon.on('dragend',function (e) {Hainan_overlayer.setBounds(Hainan_polygon.getBounds());
            if(Number(Hainan_polygon.getBounds().getNorthWest().lat)<21.13465&& Number(Hainan_polygon.getBounds().getSouthEast().lng)<112.08980
                &&Number(Hainan_polygon.getBounds().getSouthEast().lat)>17.08761&& Number(Hainan_polygon.getBounds().getNorthWest().lng)>107.52070)
            {swal({position: 'top-end', text: 'Hainan', icon:"success", buttons: false, timer: 1000});
                Hainan_overlayer.setBounds(Hainan.getBounds());
                Hainan_polygon.dragging.disable();
                Hainan_polygon.setLatLngs(temp1);}});

        Taiwan_polygon.on('drag',function (e) {Taiwan_overlayer.setBounds(Taiwan_polygon.getBounds());});
        Taiwan_polygon.on('dragstart',function (e) {Taiwan_overlayer.setBounds(Taiwan_polygon.getBounds());});
        Taiwan_polygon.on('dragend',function (e) {
            Taiwan_overlayer.setBounds(Taiwan_polygon.getBounds());
            if(Number(Taiwan_polygon.getBounds().getNorthWest().lat)<26.42047&& Number(Taiwan_polygon.getBounds().getSouthEast().lng)<122.99263
                &&Number(Taiwan_polygon.getBounds().getSouthEast().lat)>20.94005&& Number(Taiwan_polygon.getBounds().getNorthWest().lng)>118.97070)
            {swal({position: 'top-end', text: 'Taiwan', icon:"success", buttons: false, timer: 1000});
                Taiwan_overlayer.setBounds(Taiwan.getBounds());
                Taiwan_polygon.dragging.disable();
                Taiwan_polygon.setLatLngs(temp1);}});

        Beijing_polygon.on('drag',function (e) {Beijing_overlay.setBounds(Beijing_polygon.getBounds());});
        Beijing_polygon.on('dragstart',function (e) {Beijing_overlay.setBounds(Beijing_polygon.getBounds());});
        Beijing_polygon.on('dragend',function (e) {Beijing_overlay.setBounds(Beijing_polygon.getBounds());
            if(Number(Beijing_polygon.getBounds().getNorthWest().lat)<41.167 && Number(Beijing_polygon.getBounds().getSouthEast().lng)<117.879
                &&Number(Beijing_polygon.getBounds().getSouthEast().lat)>39.303 && Number(Beijing_polygon.getBounds().getNorthWest().lng)>115.017)
            {swal({position: 'top-end', icon:"success", text: 'Beijing', buttons: false, timer: 1000});
                Beijing_overlay.setBounds(Beijing.getBounds());
                Beijing_polygon.dragging.disable();
                Beijing_polygon.setLatLngs(temp1);}});

        Tianjin_polygon.on('drag',function (e) {Tianjin_overlay.setBounds(Tianjin_polygon.getBounds());});
        Tianjin_polygon.on('dragstart',function (e) {Tianjin_overlay.setBounds(Tianjin_polygon.getBounds());});
        Tianjin_polygon.on('dragend',function (e) {Tianjin_overlay.setBounds(Tianjin_polygon.getBounds());
            if(Number(Tianjin_polygon.getBounds().getNorthWest().lat)<40.463 && Number(Tianjin_polygon.getBounds().getSouthEast().lng)<118.216
                &&Number(Tianjin_polygon.getBounds().getSouthEast().lat)>38.386 && Number(Tianjin_polygon.getBounds().getNorthWest().lng)>116.520)
            {swal({position: 'top-end', icon:"success", text: 'Tianjin', buttons: false,timer: 1000});
                Tianjin_overlay.setBounds(Tianjin.getBounds());
                Tianjin_polygon.dragging.disable();
                Tianjin_polygon.setLatLngs(temp1);}});

        Hebei_polygon.on('drag',function (e) {Hebei_overlay.setBounds(Hebei_polygon.getBounds());});
        Hebei_polygon.on('dragstart',function (e) {Hebei_overlay.setBounds(Hebei_polygon.getBounds());});
        Hebei_polygon.on('dragend',function (e) {Hebei_overlay.setBounds(Hebei_polygon.getBounds());
            if(Number(Hebei_polygon.getBounds().getNorthWest().lat)<43.842 && Number(Hebei_polygon.getBounds().getSouthEast().lng)<120.415
                &&Number(Hebei_polygon.getBounds().getSouthEast().lat)>35.808 && Number(Hebei_polygon.getBounds().getNorthWest().lng)>113.111)
            {swal({position: 'top-end', icon:"success", text: 'Hebei', buttons: false, timer: 1000});
                Hebei_polygon.dragging.disable();
                Hebei_overlay.setBounds(Hebei.getBounds());
                Hebei_polygon.setLatLngs(temp1);}});

        Shanxi_polygon.on('drag',function (e) {Shanxi_overlay.setBounds(Shanxi_polygon.getBounds());});
        Shanxi_polygon.on('dragstart',function (e) {Shanxi_overlay.setBounds(Shanxi_polygon.getBounds());});
        Shanxi_polygon.on('dragend',function (e) {Shanxi_overlay.setBounds(Shanxi_polygon.getBounds());
            if(Number(Shanxi_polygon.getBounds().getNorthWest().lat)<41.097 && Number(Shanxi_polygon.getBounds().getSouthEast().lng)<115.077
                &&Number(Shanxi_polygon.getBounds().getSouthEast().lat)>34.176 && Number(Shanxi_polygon.getBounds().getNorthWest().lng)>109.649)
            {swal({position: 'top-end', icon:"success", text: 'Shanxi', buttons: false, timer: 1000});
                Shanxi_polygon.dragging.disable();
                Shanxi_overlay.setBounds(Shanxi.getBounds());
                Shanxi_polygon.setLatLngs(temp1);}});

        Henan_polygon.on('drag',function (e) {Henan_overlay.setBounds(Henan_polygon.getBounds());});
        Henan_polygon.on('dragstart',function (e) {Henan_overlay.setBounds(Henan_polygon.getBounds());});
        Henan_polygon.on('dragend',function (e) {Henan_overlay.setBounds(Henan_polygon.getBounds());
            if(Number(Henan_polygon.getBounds().getNorthWest().lat)<36.647 && Number(Henan_polygon.getBounds().getSouthEast().lng)<116.925
                &&Number(Henan_polygon.getBounds().getSouthEast().lat)>31.245 && Number(Henan_polygon.getBounds().getNorthWest().lng)>109.933)
            {swal({position: 'top-end', icon:"success", text: 'Henan', buttons: false, timer: 1000});
                Henan_polygon.dragging.disable();
                Henan_overlay.setBounds(Henan.getBounds());
                Henan_polygon.setLatLngs(temp1);}});

        Shandong_polygon.on('drag',function (e) {Shandong_overlay.setBounds(Shandong_polygon.getBounds());});
        Shandong_polygon.on('dragstart',function (e) {Shandong_overlay.setBounds(Shandong_polygon.getBounds());});
        Shandong_polygon.on('dragend',function (e) {Shandong_overlay.setBounds(Shandong_polygon.getBounds());
            if(Number(Shandong_polygon.getBounds().getNorthWest().lat)<38.456 && Number(Shandong_polygon.getBounds().getSouthEast().lng)<122.962
                &&Number(Shandong_polygon.getBounds().getSouthEast().lat)>34.256 && Number(Shandong_polygon.getBounds().getNorthWest().lng)>114.572)
            {swal({position: 'top-end', icon:"success", text: 'Shandong', buttons: false, timer: 1000});
                Shandong_polygon.dragging.disable();
                Shandong_overlay.setBounds(Shandong.getBounds());
                Shandong_polygon.setLatLngs(temp1);}});

        Anhui_polygon.on('drag',function (e) {Anhui_overlay.setBounds(Anhui_polygon.getBounds());});
        Anhui_polygon.on('dragstart',function (e) {Anhui_overlay.setBounds(Anhui_polygon.getBounds());});
        Anhui_polygon.on('dragend',function (e) {Anhui_overlay.setBounds(Anhui_polygon.getBounds());
            if(Number(Anhui_polygon.getBounds().getNorthWest().lat)<34.877 && Number(Anhui_polygon.getBounds().getSouthEast().lng)<119.965
                &&Number(Anhui_polygon.getBounds().getSouthEast().lat)>29.085 && Number(Anhui_polygon.getBounds().getNorthWest().lng)>114.564)
            {swal({position: 'top-end', icon:"success", text: 'Anhui', buttons: false, timer: 1000});
                Anhui_polygon.dragging.disable();
                Anhui_overlay.setBounds(Anhui.getBounds());
                Anhui_polygon.setLatLngs(temp1);}});

        Jiangsu_polygon.on('drag',function (e) {Jiangsu_overlay.setBounds(Jiangsu_polygon.getBounds());});
        Jiangsu_polygon.on('dragstart',function (e) {Jiangsu_overlay.setBounds(Jiangsu_polygon.getBounds());});
        Jiangsu_polygon.on('dragend',function (e) {Jiangsu_overlay.setBounds(Jiangsu_polygon.getBounds());
            if(Number(Jiangsu_polygon.getBounds().getNorthWest().lat)<35.478 && Number(Jiangsu_polygon.getBounds().getSouthEast().lng)<122.465
                &&Number(Jiangsu_polygon.getBounds().getSouthEast().lat)>30.439 && Number(Jiangsu_polygon.getBounds().getNorthWest().lng)>115.875)
            {swal({position: 'top-end', icon:"success", text: 'Jiangsu', buttons: false, timer: 1000});
                Jiangsu_polygon.dragging.disable();
                Jiangsu_overlay.setBounds(Jiangsu.getBounds());
                Jiangsu_polygon.setLatLngs(temp1);}});

        Shanghai_polygon.on('drag',function (e) {Shanghai_overlay.setBounds(Shanghai_polygon.getBounds());});
        Shanghai_polygon.on('dragstart',function (e) {Shanghai_overlay.setBounds(Shanghai_polygon.getBounds());});
        Shanghai_polygon.on('dragend',function (e) {Shanghai_overlay.setBounds(Shanghai_polygon.getBounds());
            if(Number(Shanghai_polygon.getBounds().getNorthWest().lat)<31.734 && Number(Shanghai_polygon.getBounds().getSouthEast().lng)<122.250
                &&Number(Shanghai_polygon.getBounds().getSouthEast().lat)>30.417 && Number(Shanghai_polygon.getBounds().getNorthWest().lng)>120.674)
            {swal({position: 'top-end', icon:"success", text: 'Shanghai', buttons: false, timer: 1000});
                Shanghai_polygon.dragging.disable();
                Shanghai_overlay.setBounds(Shanghai.getBounds());
                Shanghai_polygon.setLatLngs(temp1);}});

        Hubei_polygon.on('drag',function (e) {Hubei_overlay.setBounds(Hubei_polygon.getBounds());});
        Hubei_polygon.on('dragstart',function (e) {Hubei_overlay.setBounds(Hubei_polygon.getBounds());});
        Hubei_polygon.on('dragend',function (e) {Hubei_overlay.setBounds(Hubei_polygon.getBounds());
            if(Number(Hubei_polygon.getBounds().getNorthWest().lat)<33.655 && Number(Hubei_polygon.getBounds().getSouthEast().lng)<116.826
                &&Number(Hubei_polygon.getBounds().getSouthEast().lat)>28.491 && Number(Hubei_polygon.getBounds().getNorthWest().lng)>107.640)
            {swal({position: 'top-end', icon:"success", text: 'Hubei', buttons: false, timer: 1000});
                Hubei_polygon.dragging.disable();
                Hubei_overlay.setBounds(Hubei.getBounds());
                Hubei_polygon.setLatLngs(temp1);}});

        Hunan_polygon.on('drag',function (e) {Hunan_overlay.setBounds(Hunan_polygon.getBounds());});
        Hunan_polygon.on('dragstart',function (e) {Hunan_overlay.setBounds(Hunan_polygon.getBounds());});
        Hunan_polygon.on('dragend',function (e) {Hunan_overlay.setBounds(Hunan_polygon.getBounds());
            if(Number(Hunan_polygon.getBounds().getNorthWest().lat)<30.525 && Number(Hunan_polygon.getBounds().getSouthEast().lng)<114.795
                &&Number(Hunan_polygon.getBounds().getSouthEast().lat)>24.187 && Number(Hunan_polygon.getBounds().getNorthWest().lng)>108.183)
            {swal({position: 'top-end', icon:"success", text: 'Hunan', buttons: false, timer: 1000});
                Hunan_polygon.dragging.disable();
                Hunan_overlay.setBounds(Hunan.getBounds());
                Hunan_polygon.setLatLngs(temp1);}});

        Heilongjiang_polygon.on('drag',function (e) {Heilongjiang_overlay.setBounds(Heilongjiang_polygon.getBounds());});
        Heilongjiang_polygon.on('dragstart',function (e) {Heilongjiang_overlay.setBounds(Heilongjiang_polygon.getBounds());});
        Heilongjiang_polygon.on('dragend',function (e) {Heilongjiang_overlay.setBounds(Heilongjiang_polygon.getBounds());
            if(Number(Heilongjiang_polygon.getBounds().getNorthWest().lat)<54.081 && Number(Heilongjiang_polygon.getBounds().getSouthEast().lng)<135.432
                &&Number(Heilongjiang_polygon.getBounds().getSouthEast().lat)>42.892 && Number(Heilongjiang_polygon.getBounds().getNorthWest().lng)>120.337)
            {swal({position: 'top-end', icon:"success", text: 'Heilongjiang', buttons: false, timer: 1000});
                Heilongjiang_polygon.dragging.disable();
                Heilongjiang_overlay.setBounds(Heilongjiang.getBounds());
                Heilongjiang_polygon.setLatLngs(temp1);}});

        Jilin_polygon.on('drag',function (e) { Jilin_overlay.setBounds( Jilin_polygon.getBounds());});
        Jilin_polygon.on('dragstart',function (e) { Jilin_overlay.setBounds( Jilin_polygon.getBounds());});
        Jilin_polygon.on('dragend',function (e) { Jilin_overlay.setBounds( Jilin_polygon.getBounds());
            if(Number( Jilin_polygon.getBounds().getNorthWest().lat)<46.938 && Number(Jilin_polygon.getBounds().getSouthEast().lng)<132.080
                &&Number( Jilin_polygon.getBounds().getSouthEast().lat)>40.446 && Number(Jilin_polygon.getBounds().getNorthWest().lng)>120.869)
            {swal({position: 'top-end', icon:"success", text: 'Jilin', buttons: false, timer: 1000});
                Jilin_polygon.dragging.disable();
                Jilin_overlay.setBounds(Jilin.getBounds());
                Jilin_polygon.setLatLngs(temp1);}});

        Liaoning_polygon.on('drag',function (e) { Liaoning_overlay.setBounds(Liaoning_polygon.getBounds());});
        Liaoning_polygon.on('dragstart',function (e) {Liaoning_overlay.setBounds(Liaoning_polygon.getBounds());});
        Liaoning_polygon.on('dragend',function (e) { Liaoning_overlay.setBounds(Liaoning_polygon.getBounds());
            if(Number(Liaoning_polygon.getBounds().getNorthWest().lat)<43.849 && Number(Liaoning_polygon.getBounds().getSouthEast().lng)<126.540
                &&Number(Liaoning_polygon.getBounds().getSouthEast().lat)>38.169 && Number(Liaoning_polygon.getBounds().getNorthWest().lng)>118.099)
            {swal({position: 'top-end', icon:"success", text: 'Liaoning', buttons: false, timer: 1000});
                Liaoning_polygon.dragging.disable();
                Liaoning_overlay.setBounds(Liaoning.getBounds());
                Liaoning_polygon.setLatLngs(temp1);}});

        Jiangxi_polygon.on('drag',function (e) {Jiangxi_overlay.setBounds(Jiangxi_polygon.getBounds());});
        Jiangxi_polygon.on('dragstart',function (e) {Jiangxi_overlay.setBounds(Jiangxi_polygon.getBounds());});
        Jiangxi_polygon.on('dragend',function (e) {Jiangxi_overlay.setBounds(Jiangxi_polygon.getBounds());
            if(Number(Jiangxi_polygon.getBounds().getNorthWest().lat)<30.918 && Number(Jiangxi_polygon.getBounds().getSouthEast().lng)<119.269
                &&Number(Jiangxi_polygon.getBounds().getSouthEast().lat)>23.873 && Number(Jiangxi_polygon.getBounds().getNorthWest().lng)>112.716)
            {swal({position: 'top-end', icon:"success", text: 'Jiangxi', buttons: false, timer: 1000});
                Jiangxi_polygon.dragging.disable();
                Jiangxi_overlay.setBounds(Jiangxi.getBounds());
                Jiangxi_polygon.setLatLngs(temp1);}});
        /*-------------------------------------China End-------------------------------*/

        objBasemaps = {
            "Open Street Maps": lyrOSM,
            "Topo Map":lyrTopo,
            "Imagery":lyrImagery,
            "Outdoors":lyrOutdoors,
            "Watercolor":lyrWatercolor,
            "Canvans":lyrCavans,
            "StamenTonerBackground":lyStammtoner,
            "StamenTonerLite": lyStammtonerlite
        };

        objOverlays = {};

        ctlLayers = L.control.layers(objBasemaps, objOverlays).addTo(mymap);

        ctlSidebar = L.control.sidebar('side-bar').addTo(mymap);

        ctlEasybutton = L.easyButton('glyphicon-transfer', function(){
            ctlSidebar.toggle();
        }).addTo(mymap);


        ctlAttribute = L.control.attribution({position:'bottomleft'}).addTo(mymap);
        ctlAttribute.addAttribution('OSM');
        ctlAttribute.addAttribution('&copy; Xu Gu Pan');

        ctlMouseposition = L.control.mousePosition().addTo(mymap);


        mymap.on('zoomend', function(){
            $("#zoom-level").html(mymap.getZoom());
        });

        mymap.on('moveend', function(){
            $("#map-center").html(LatLngToArrayString(mymap.getCenter()));
        });

        mymap.on('mousemove', function(e){
            $("#mouse-location").html(LatLngToArrayString(e.latlng));
        });
        function LatLngToArrayString(ll) {
            return "["+ll.lat.toFixed(5)+", "+ll.lng.toFixed(5)+"]";
        }

    });
</script>
</body>
</html>