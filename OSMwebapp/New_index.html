<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>MapEditor</title>
		<link rel="stylesheet" href="src/leaflet.css">
		<link rel="stylesheet" href="src/css/bootstrap.css">
		<link rel="stylesheet" href="src/plugins/easy-button.css">
		<link rel="stylesheet" href="src/plugins/leaflet-shades-master/src/css/leaflet-shades.css"/>
		
		<script src="src/leaflet-src.js"></script>
		<script src="src/jquery-3.3.1.min.js"></script>
		<script src="src/plugins/easy-button.js"></script>
		<script src="src/plugins/leaflet-shades-master/dist/leaflet-shades.js"></script>
		
		<style type="text/css">
			#mapdiv{
				 height:100vh;
			}
		</style>
		
	</head>
	<body>
		<div id="mapdiv" class="col-md-12"></div>
		<script type="text/javascript">
			var newmap;
			var easybuttonTask;
			var easybuttonFertig;
			var easybuttonDelete;
			var rect;
			var shades;
			var bounds;
			var point1_lat,point1_lng,point2_lat,point2_lng;
			
			$(document).ready(function(){

			newmap = L.map('mapdiv', {center:[51.463426, 7.005627],zoom:16, zoomControl:false, attributionControl:false, editable:true});
			var Maplayer=L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');
			newmap.addLayer(Maplayer);
			shades = new L.LeafletShades();

			/*EasyButton*/
			easybuttonTask=L.easyButton('glyphicon-edit',function(){
				rect=newmap.editTools.startRectangle();
				//const rect = L.rectangle([[54.559322, -5.767822], [56.1210604, -3.021240]]).addTo(newmap);
                rect.enableEdit();

				shades.addTo(newmap);

				shades.on('shades:bounds-changed', function(e) {
					bounds = e.bounds;
					console.log(bounds);
					//console.log(bounds._northEast.lat);
					point1_lat=bounds._northEast.lat;
					console.log(bounds._northEast.lat+" point1 coordinate lat");
					//console.log(bounds._northEast.lng);
					point1_lng=bounds._northEast.lng;
					console.log(bounds._northEast.lng+" point1 coordinate lng");
					//console.log(bounds._southWest.lat);
					point2_lat=bounds._southWest.lat;
					console.log(bounds._southWest.lat+" point2 coordinate lat");
					//console.log(bounds._southWest.lng);
					point2_lng=bounds._southWest.lng;
					console.log(bounds._southWest.lng+" point2 coordinate lng");
				});

			}).addTo(newmap);


			/*easybuttonFertig*/
				easybuttonFertig=L.easyButton('glyphicon-share',function(){

					var op1=(Number(point1_lat)+Number(point2_lat))/2;
					var op2=(Number(point1_lng)+Number(point2_lng))/2;
					console.log(op1);
					console.log(op2);
					newmap.setView([op1,op2],17);
					//newmap.removeLayer(rect);
					//newmap.removeLayer(shades);
				}).addTo(newmap);

			/*easybuttonDelete*/
				easybuttonDelete=L.easyButton('glyphicon-remove-circle',function() {
					newmap.removeLayer(rect);
					//newmap.removeLayer(shades);

				}).addTo(newmap);

			});


		</script>
	</body>
</html>
