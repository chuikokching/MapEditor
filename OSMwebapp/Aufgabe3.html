<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Map puzzle</title>
    <link rel="stylesheet" href="src/leaflet.css">
    <link rel="stylesheet" href="src/css/bootstrap.css">
    <link rel="stylesheet" href="src/plugins/L.Control.Zoomslider.css">
    <link rel="stylesheet" href="src/plugins/L.Control.MousePosition.css">
    <link rel="stylesheet" href="src/plugins/L.Control.Sidebar.css">
    <link rel="stylesheet" href="src/plugins/easy-button.css">
    <script src="src/leaflet-src.js"></script>
    <script src="src/jquery-3.2.0.min.js"></script>
    <script src="src/plugins/L.Control.Zoomslider.js"></script>
    <script src="src/plugins/L.Control.MousePosition.js"></script>
    <script src="src/plugins/L.Control.Sidebar.js"></script>
    <script src="src/plugins/easy-button.js"></script>
    <script src="src/plugins/leaflet-providers.js"></script>
    <script src="src/plugins/Leaflet.Path.Drag-master/src/Path.Drag.js"></script>
    <script src="src/plugins/Leaflet.Path.Drag-master/src/Path.Transform.js"></script>
    <script src="src/plugins/Leaflet.Path.Drag-master/src/Canvas.js" ></script>
    <script src="src/plugins/Leaflet.Path.Drag-master/src/SVG.js" ></script>
    <script src="src/plugins/Leaflet.Path.Drag-master/src/SVG.VML.js" ></script>
    <script type="text/javascript" src="src/js/XMLGenerator.js"></script>
    <script src="src/plugins/FileSaver.js-master/src/FileSaver.js"></script>

    <script src="src/plugins/sweetalert-master/docs/assets/sweetalert/sweetalert.min.js"></script>
    <style>
        #mapdiv {
            height:100vh;
        }
        #eumapdiv{
            height:100vh;
        }
    </style>
</head>

<body>
<div>
    <div id="mapdiv" class="col-md-12"></div>
    <div id="eumapdiv" class="col-md-12"></div>
    <div id="side-bar" class="col-md-10">
        <h4>Zoom Level: <span id='zoom-level'></span></h4>
        <h4>Map Center: <span id='map-center'></span></h4>
        <h4>Mouse Location: <span id='mouse-location'></span></h4>
        <h4>Image Opacity: <span id='image-opacity'>0.5</span></h4>
        <br>
        <button id="Germany" style="width: 120px; height:79px; border-style:none;background:url(img/Germany.png) no-repeat left top; margin-right: 10px"></button>
        <button id="Europa" style="width: 120px; height:79px;border-style:none;background:url(img/EU.png) no-repeat left top;margin-right: 10px"></button>
        <button id="China" style="width: 120px; height:79px; border-style:none;background:url(img/China.png) no-repeat left top"></button>
        <br>
        <br>
        <div>
            <button id="export_exerciseChain" class="btn btn-primary btn-block">ExerciseChain Export</button>
        </div>
        <br>
        <div>
            <button id="export_Stage" class="btn btn-primary btn-block">Stage Export</button>
        </div>
        <!--<input type='range' id='sldOpacity' min='0' max='1' step='0.1' value='0.5'>-->
    </div>
</div>
<script>
    var mymap;
    var lyrOSM;
    var lyrWatercolor;
    var lyrTopo;
    var lyrImagery;
    var lyrOutdoors;

    var lyrCavans;
    var ctlAttribute;
    var ctlMouseposition;
    var ctlEasybutton;
    var ctlSidebar;
    var ctlLayers;
    var objBasemaps;
    var objOverlays;

    var Nieder_spare,Bawuer_spare,Bayern_spare,NRW_spare,Brandenburg_spare;
    var Bremen,Bremenpoly_array,Bremen_polygon,Bremen_imageBound,Bremen_overlay;
    var Brandenburg,Brandenburgpoly_array,Brandenburg_polygon,Brandenburg_imageBound,Brandenburg_overlay;
    var Niedersachsen,Niedersachsenpoly_array,Niedersachsen_polygon,Niedersachsen_imageBound,Niedersachsen_overlay;
    var Sachsen_Anhalt,Sachsen_Anhaltpoly_array,Sachsen_Anhalt_polygon,Sachsen_Anhalt_imageBound,Sachsen_Anhalt_overlay;
    var Hessen,Hessenpoly_array,Hessen_polygon,Hessen_imageBound,Hessen_overlay;
    var Schleswig,Schleswigpoly_array,Schleswig_polygon,Schleswig_imageBound,Schleswig_overlay;
    var NRW,NRWpoly_array,NRW_polygon,NRW_imageBound,NRW_overlay;
    var Thueringen,Thueringenpoly_array,Thueringen_polygon,Thueringen_imageBound,Thueringen_overlay;
    var Sachsen,Sachsenpoly_array,Sachsen_polygon,Sachsen_overlay,Sachsen_imageBound;;
    var Bayern,Bayernpoly_array,Bayern_polygon,Bayern_overlay,Bayern_imageBound;
    var Mecklenburg,Mecklenburgpoly_array,Mecklenburg_polygon,Mecklenburg_overlay,Mecklenburg_imageBound;
    var Berlin,Berlinpoly_array,Berlin_polygon,Berlin_imageBound,Berlin_overlay;
    var Hamburg,Hamburgpoly_array,Hamburg_polygon,Hamburg_imageBound,Hamburg_overlay;
    var Rheinland,Rheinlandpoly_array,Rheinland_polygon,Rheinland_imageBound,Rheinland_overlay;
    var Badenwuer,Badenwuerpoly_array,Badenwuer_polygon,Badenwuer_imageBound,Badenwuer_overlay;
    var Saarlandpoly_array,Saarland,Saarland_polygon,Saarland_overlay,Saarland_imageBound;

    $(document).ready(function(){
        mymap = L.map('mapdiv', {
            center:[51.65001, 10.67920],
            zoom:6,
            scrollWheelZoom:true,
            dragging: true,
            zoomControl: false,
            attributionControl: false
        });


        lyrOSM = L.tileLayer.provider('OpenStreetMap.Mapnik');
        lyrTopo = L.tileLayer.provider('OpenTopoMap');
        lyrImagery = L.tileLayer.provider('Esri.WorldImagery');
        lyrOutdoors = L.tileLayer.provider('Thunderforest.Outdoors');
        lyrWatercolor = L.tileLayer.provider('Stamen.Watercolor');
        lyrCavans=L.tileLayer.provider('Esri.WorldGrayCanvas');
        mymap.addLayer(lyrOSM);

        mymap.options.maxZoom=8;
        mymap.options.minZoom=6;

        Berlinpoly_array=[
            [49.64591627445775,13.437566757201964],
            [50.0047877558767,13.437566757201964],
            [50.0047877558767,14.148051738738841],
            [49.64591627445775,14.148051738738841]];

        Niedersachsenpoly_array=[
            [51.75000257658626,0.6815814971923454],
            [48.98734251962303,0.6815814971923454],
            [48.98734251962303,5.689845085144006],
            [51.75000257658626,5.689845085144006]];

        Brandenburgpoly_array=[
            [54.29790712851649,3.810710906981897],
            [56.36968310786767,3.810710906981897],
            [56.36968310786767,7.432980537414028],
            [54.29790712851649,7.432980537414028]];

        Hessenpoly_array = [
            [53.67976834496321,3.408486843109058],
            [51.51567325569717,3.408486843109058],
            [51.51567325569717,6.013641357421802],
            [53.67976834496321,6.013641357421802]];

        Sachsen_Anhaltpoly_array=[
            [55.0509163404584,9.514524936675953],
            [56.969099944173806,9.514524936675953],
            [56.969099944173806,12.201755046844413],
            [55.0509163404584,12.201755046844413]];

        Bremenpoly_array = [
            [50.20653022738872,5.5589747428890925],
            [49.54230950299553,5.5589747428890925],
            [49.54230950299553,6.105995178222346],
            [50.20653022738872,6.105995178222346]];

        Saarlandpoly_array = [
            [49.31955549534387,4.99455213546753],
            [48.80980283266952,5.015494823455811],
            [48.80604379790249,6.1542749404907235],
            [49.31867430894288,6.120564937591554]];

        Schleswigpoly_array=[
            [50.98909756726335,15.500743389129646],
            [49.07535587960909,15.500743389129646],
            [49.07535587960909,18.696713447570808],
            [50.98909756726335,18.696713447570808]];

        Mecklenburgpoly_array = [
            [49.116649840729025,14.41910505294793],
            [47.30599336887515,14.41910505294793],
            [47.30599336887515,18.312685489654477],
            [49.116649840729025,18.312685489654477]];

        Badenwuerpoly_array=[
            [54.795823681390075,16.145439147949148],
            [52.76265801854019,16.145439147949148],
            [52.76265801854019,19.326453208923265],
            [54.795823681390075,19.326453208923265]];

        Hamburgpoly_array=[
            [48.31209967417024,5.734369754791137],
            [47.91513400081241,5.734369754791137],
            [47.91513400081241,6.396768093109009],
            [48.31209967417024,6.396768093109009]];

        Thueringenpoly_array=[
            [45.838950602379875,12.79360055923454],
            [45.838950602379875,15.66914319992058],
            [47.44769531578523,15.66914319992058],
            [47.44769531578523,12.79360055923454],
        ];

        Rheinlandpoly_array=[
            [45.61240136397272,5.41475772857663],
            [47.74903410536781,5.41475772857663],
            [47.74903410536781,7.865610122680634],
            [45.61240136397272,7.865610122680634]];

        NRWpoly_array=[
            [54.68800519200004,13.341457843780383],
            [56.70053842926295,13.341457843780383],
            [56.70053842926295,17.008810043334822],
            [54.68800519200004,17.008810043334822]];


        Bayernpoly_array=[
            [49.458292054244836,17.67367601394647],
            [52.6244538190952,17.67367601394647],
            [52.6244538190952,22.598361968994077],
            [49.458292054244836,22.598361968994077]];


        Sachsenpoly_array=[
            [45.47338859338971,8.937592506408542],
            [47.16296223706786,8.937592506408542],
            [47.16296223706786,12.12405681610092],
            [45.47338859338971,12.12405681610092]];
        //mymap.fitBounds(Saarpolygon.getBounds());


        Bremen = L.imageOverlay('img/Bremen_grey.png',[[53.60835,8.47211],[53.00432,9.00545]],{opacity:1}).addTo(mymap);

        Brandenburg = L.imageOverlay('img/Brandenburg_grey.png',[[53.52929,11.22867],[51.30927,14.84964]],{opacity:1}).addTo(mymap);

        Niedersachsen = L.imageOverlay('img/Niedersachsen_grey.png',[[53.89239,6.62980],[51.29734,11.60111]],{opacity:1}).addTo(mymap);

        Sachsen_Anhalt = L.imageOverlay('img/Sachsen_anhalt_grey.png',[[53.04464,10.53756],[50.92030,13.23773]],{opacity:1}).addTo(mymap);

        Hessen = L.imageOverlay('img/Hessen_grey.png',[[51.65980,7.6821684837338005],[49.39444,10.287322998046543]],{opacity:1}).addTo(mymap);

        Schleswig = L.imageOverlay('img/Schleswig_grey.png',[[55.05861,8.25925],[53.35106,11.35555]],{opacity:1}).addTo(mymap);

        NRW = L.imageOverlay('img/NRW_grey.png',[[52.53119,5.88121],[50.34092,9.46275]],{opacity:1}).addTo(mymap);

        Thueringen = L.imageOverlay('img/Thuringia_grey.png',[[51.65233,9.85657],[50.18390,12.65060]],{opacity:1}).addTo(mymap);

        Sachsen = L.imageOverlay(('img/Sachsen_grey.png'),[[51.66456,11.85723],[50.15131,15.05426]],{opacity:1}).addTo(mymap);

        Bayern = L.imageOverlay('img/Bayern_grey.png',[[50.55000,8.97031],[47.26300,13.83726]],{opacity:1}).addTo(mymap);

        Mecklenburg = L.imageOverlay('img/Mecklenburg_grey.png',[[54.67401,10.59490],[53.10725,14.40715]],{opacity:1}).addTo(mymap);

        Berlin = L.imageOverlay('img/Berlin_grey.png',[[52.69606,13.06570],[52.30901,13.77083]],{opacity:1}).addTo(mymap);

        Hamburg = L.imageOverlay('img/Hamburg_grey.png',[[53.76820,9.73389],[53.36039,10.35461]],{opacity:1}).addTo(mymap);

        Saarland = L.imageOverlay('img/Saarland_grey.png', [[49.63850,6.36108],[49.11984,7.41028]], {opacity:1}).addTo(mymap);

        Rheinland = L.imageOverlay('img/Rheinland_grey.png',[[50.93035,6.13589],[48.97219,8.49595]],{opacity:1}).addTo(mymap);

        Badenwuer = L.imageOverlay('img/Bawuer_grey.png',[[49.79906,7.49879],[47.53232,10.48808]] ,{opacity:1}).addTo(mymap);


        Brandenburg_spare=L.imageOverlay('img/Brandenburg_grey.png',[[53.57769065527759,11.171550750732148],[51.35871813296017,14.793820381164277]],{opacity:1});
        NRW_spare= L.imageOverlay('img/NRW_grey.png',[[52.51850886754137,5.821316242217626],[50.29096508631147,9.48866844177207]],{opacity:1});
        Bayern_spare = L.imageOverlay('img/Bayern_grey.png',[[50.556783665674764,8.950531482696327],[47.246595713429365,13.875217437743935]],{opacity:1});
        Bawuer_spare = L.imageOverlay('img/Bawuer_grey.png',[[49.79000601294606,7.367362976073452],[47.516939844015326,10.54837703704757]],{opacity:1});
        Nieder_spare = L.imageOverlay('img/Niedersachsen_grey.png',[[53.893831774203306,6.570253372191822],[51.26183428873217,11.57851696014348]],{opacity:1});

        Niedersachsen_imageBound = L.latLngBounds([
            Niedersachsenpoly_array[0],
            Niedersachsenpoly_array[2]
        ]);

        Bayern_imageBound = L.latLngBounds([
            Bayernpoly_array[0],
            Bayernpoly_array[2]
        ])

        Berlin_imageBound = L.latLngBounds([
            Berlinpoly_array[0],
            Berlinpoly_array[2]
        ])

        Sachsen_Anhalt_imageBound = L.latLngBounds([
            Sachsen_Anhaltpoly_array[0],
            Sachsen_Anhaltpoly_array[2]
        ])

        Brandenburg_imageBound = L.latLngBounds([
            Brandenburgpoly_array[0],
            Brandenburgpoly_array[2]
        ]);

        Hessen_imageBound = L.latLngBounds([
            Hessenpoly_array[0],
            Hessenpoly_array[2]
        ]);

        Saarland_imageBound = L.latLngBounds([
            Saarlandpoly_array[0],
            Saarlandpoly_array[2]
        ]);

        Schleswig_imageBound = L.latLngBounds([
            Schleswigpoly_array[0],
            Schleswigpoly_array[2]
        ]);

        Badenwuer_imageBound = L.latLngBounds([
            Badenwuerpoly_array[0],
            Badenwuerpoly_array[2]
        ]);

        Hamburg_imageBound = L.latLngBounds([
            Hamburgpoly_array[0],
            Hamburgpoly_array[2]
        ]);

        Mecklenburg_imageBound = L.latLngBounds([
            Mecklenburgpoly_array[0],
            Mecklenburgpoly_array[2]
        ]);

        Bremen_imageBound = L.latLngBounds([
            Bremenpoly_array[0],
            Bremenpoly_array[2]
        ]);


        Thueringen_imageBound = L.latLngBounds([
            Thueringenpoly_array[0],
            Thueringenpoly_array[2]
        ]);

        Rheinland_imageBound = L.latLngBounds([
            Rheinlandpoly_array[0],
            Rheinlandpoly_array[2]
        ]);

        NRW_imageBound = L.latLngBounds([
            NRWpoly_array[0],
            NRWpoly_array[2]
        ]);

        Sachsen_imageBound =L.latLngBounds([
            Sachsenpoly_array[0],
            Sachsenpoly_array[2]
        ]);

        Sachsen_Anhalt_overlay = L.imageOverlay(('img_puzzle/Sachsen_anhalt.png'),Sachsen_Anhalt_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Sachsen_Anhalt_polygon = L.polygon((Sachsen_Anhaltpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);


        Berlin_overlay = L.imageOverlay(('img_puzzle/Berlin.png'),Berlin_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Berlin_polygon = L.polygon((Berlinpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);

        Rheinland_overlay = L.imageOverlay(('img_puzzle/Rheinland.png'),Rheinland_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Rheinland_polygon = L.polygon((Rheinlandpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);


        Bayern_overlay = L.imageOverlay(('img_puzzle/Bayern.png'),Bayern_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Bayern_polygon = L.polygon((Bayernpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);

        Sachsen_overlay = L.imageOverlay(('img_puzzle/Sachsen.png'),Sachsen_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Sachsen_polygon = L.polygon((Sachsenpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);


        NRW_overlay = L.imageOverlay(('img_puzzle/NRW.png'),NRW_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        NRW_polygon = L.polygon((NRWpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);

        Thueringen_overlay = L.imageOverlay(('img_puzzle/Thueringen.png'),Thueringen_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Thueringen_polygon = L.polygon((Thueringenpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);

        Niedersachsen_overlay = L.imageOverlay(('img_puzzle/Niedersachsen.png'),Niedersachsen_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Niedersachsen_polygon =L.polygon((Niedersachsenpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);


        Brandenburg_overlay = L.imageOverlay(('img_puzzle/Brandenburg.png'),Brandenburg_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Brandenburg_polygon = L.polygon((Brandenburgpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);

        Hessen_overlay = L.imageOverlay(('img_puzzle/Hessen.png'),Hessen_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Hessen_polygon = L.polygon((Hessenpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);

        Bremen_overlay = L.imageOverlay(('img_puzzle/Bremen.png'),Bremen_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Bremen_polygon = L.polygon((Bremenpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);

        Mecklenburg_overlay = L.imageOverlay(('img_puzzle/Mecklenburg.png'),Mecklenburg_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Mecklenburg_polygon = L.polygon((Mecklenburgpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);


        /*Hamburg*/
        Hamburg_overlay = L.imageOverlay(('img_puzzle/Hamburg.png'),Hamburg_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Hamburg_polygon = L.polygon((Hamburgpoly_array),{
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);

        /*Saarland*/
        Saarland_overlay = L.imageOverlay('img_puzzle/Saarland.png', Saarland_imageBound, {
            opacity: 1,
            interactive: true
        }).addTo(mymap);

        Saarland_polygon=L.polygon(Saarlandpoly_array, {
            draggable: true,
            opacity: 0,
            fillOpacity: 0
        }).addTo(mymap);

        /*Schleswig*/
        Schleswig_overlay = L.imageOverlay('img_puzzle/Schleswig.png',Schleswig_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Schleswig_polygon = L.polygon(Schleswigpoly_array,{
            draggable: true,
            opacity:0,
            fillOpacity:0
        }).addTo(mymap);

        /*Badenwuerttemberg*/
        Badenwuer_overlay = L.imageOverlay('img_puzzle/Bawuer.png',Badenwuer_imageBound,{
            opacity:1,
            interactive:true
        }).addTo(mymap);

        Badenwuer_polygon = L.polygon(Badenwuerpoly_array,{
            draggable:true,
            opacity:0,
            fillOpacity:0
        }).addTo(mymap);

        objBasemaps = {
            "Open Street Maps": lyrOSM,
            "Topo Map":lyrTopo,
            "Imagery":lyrImagery,
            "Outdoors":lyrOutdoors,
            "Watercolor":lyrWatercolor,
            "Canvans":lyrCavans
        };

        objOverlays = {
            "Saarland Image":Saarland,
            "Bawur Image":Badenwuer,
            "Rheinland Image":Rheinland,
            "Hamburg Image":Hamburg,
            "Berlin Image":Berlin,
            "Mecklenburg Image":Mecklenburg,
            "Bayern Image":Bayern,
            "Saxony Image":Sachsen,
            "NRW Image":NRW,
            "Schleswig Image":Schleswig,
            "Thuringen Image":Thueringen,
            "Hessen Image":Hessen,
            "Saxony_anhalt Image":Sachsen_Anhalt,
            "Niedersachsen Image":Niedersachsen,
            "Brandenburg Image":Brandenburg,
            "Bremen Image":Bremen
        };

        ctlLayers = L.control.layers(objBasemaps, objOverlays).addTo(mymap);

        ctlSidebar = L.control.sidebar('side-bar').addTo(mymap);

        ctlEasybutton = L.easyButton('glyphicon-transfer', function(){
            ctlSidebar.toggle();
        }).addTo(mymap);


        ctlAttribute = L.control.attribution({position:'bottomleft'}).addTo(mymap);
        ctlAttribute.addAttribution('OSM');
        ctlAttribute.addAttribution('&copy; Xu Gu Pan');

        ctlMouseposition = L.control.mousePosition().addTo(mymap);


        mymap.on('zoomend', function(){
            $("#zoom-level").html(mymap.getZoom());
        });

        mymap.on('moveend', function(){
            $("#map-center").html(LatLngToArrayString(mymap.getCenter()));
        });

        mymap.on('mousemove', function(e){
            $("#mouse-location").html(LatLngToArrayString(e.latlng));
        });

        /*Saarland*/
        Saarland_polygon.on('drag',function (e) {

            Saarland_overlay.setBounds(Saarland_polygon.getBounds());
        });

        Saarland_polygon.on('dragstart',function (e) {

            Saarland_overlay.setBounds(Saarland_polygon.getBounds());
        });

        Saarland_polygon.on('dragend',function (e) {
            Saarland_overlay.setBounds(Saarland_polygon.getBounds());
            if(Number(Saarland_polygon.getBounds().getNorthWest().lat)<49.843 && Number(Saarland_polygon.getBounds().getSouthEast().lng)<7.60753
                &&Number(Saarland_polygon.getBounds().getSouthEast().lat)>49.000 && Number(Saarland_polygon.getBounds().getNorthWest().lng)>6.056)
            {
                swal({
                    position: 'top-end',
                    icon:"success",
                    text: 'Saarland',
                    buttons: false,
                    timer: 1000
                });
                Saarland_overlay.setBounds(Saarland.getBounds());
                Saarland_polygon.dragging.disable();
                //Saarland_polygon.setStyle({opacity:0});
                mymap.removeLayer(Saarland);
            }

            //console.log(Saarland_polygon.getBounds());
            console.log(Saarland_polygon.getBounds().getNorthWest().lat);
            console.log(Saarland_polygon.getBounds().getSouthEast().lng);
            console.log(Saarland_polygon.getBounds().getSouthEast().lat);
            console.log(Saarland_polygon.getBounds().getNorthWest().lng);

        });

        /*Schleswig*/
        Schleswig_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Schleswig_overlay.setBounds(Schleswig_polygon.getBounds());
        });

        Schleswig_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Schleswig_overlay.setBounds(Schleswig_polygon.getBounds());
        });

        Schleswig_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Schleswig_overlay.setBounds(Schleswig_polygon.getBounds());
            if(Number(Schleswig_polygon.getBounds().getNorthWest().lat)<55.306 && Number(Schleswig_polygon.getBounds().getSouthEast().lng)<11.797
                &&Number(Schleswig_polygon.getBounds().getSouthEast().lat)>53.141 && Number(Schleswig_polygon.getBounds().getNorthWest().lng)>7.898)
            {
                swal({
                    position: 'top-end',
                    text: 'Schleswig',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                });
                Schleswig_overlay.setBounds(Schleswig.getBounds());
                Schleswig_polygon.dragging.disable();
                mymap.removeLayer(Schleswig);
            }

            //console.log(Schleswigpolygon.getBounds());
            console.log(Schleswig_polygon.getBounds().getNorthWest().lat);
            console.log(Schleswig_polygon.getBounds().getSouthEast().lng);
            console.log(Schleswig_polygon.getBounds().getSouthEast().lat);
            console.log(Schleswig_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        /*Badenwuerttemberg*/
        Badenwuer_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Badenwuer_overlay.setBounds(Badenwuer_polygon.getBounds());
        });

        Badenwuer_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Badenwuer_overlay.setBounds(Badenwuer_polygon.getBounds());
        });

        Badenwuer_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Badenwuer_overlay.setBounds(Badenwuer_polygon.getBounds());
            if(Number(Badenwuer_polygon.getBounds().getNorthWest().lat)<50.016 && Number(Badenwuer_polygon.getBounds().getSouthEast().lng)<10.888
                &&Number(Badenwuer_polygon.getBounds().getSouthEast().lat)>47.293 && Number(Badenwuer_polygon.getBounds().getNorthWest().lng)>7.070)
            {
                swal({
                    position: 'top-end',
                    text: 'Badenwuerttemberg',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                });
                Badenwuer_overlay.setBounds(Bawuer_spare.getBounds());
                Badenwuer_polygon.dragging.disable();
                mymap.removeLayer(Badenwuer);
            }

            //console.log(Schleswigpolygon.getBounds());
            console.log(Badenwuer_polygon.getBounds().getNorthWest().lat);
            console.log(Badenwuer_polygon.getBounds().getSouthEast().lng);
            console.log(Badenwuer_polygon.getBounds().getSouthEast().lat);
            console.log(Badenwuer_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        /*Hamburg*/
        Hamburg_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Hamburg_overlay.setBounds(Hamburg_polygon.getBounds());
        });

        Hamburg_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Hamburg_overlay.setBounds(Hamburg_polygon.getBounds());
        });

        Hamburg_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Hamburg_overlay.setBounds(Hamburg_polygon.getBounds());
            if(Number(Hamburg_polygon.getBounds().getNorthWest().lat)<53.787 && Number(Hamburg_polygon.getBounds().getSouthEast().lng)<10.516
                &&Number(Hamburg_polygon.getBounds().getSouthEast().lat)>53.296 && Number(Hamburg_polygon.getBounds().getNorthWest().lng)>9.568)
            {
                swal({
                    position: 'top-end',
                    text: 'Hamburg',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                })
                Hamburg_overlay.setBounds(Hamburg.getBounds());
                Hamburg_polygon.dragging.disable();
                mymap.removeLayer(Hamburg);
            }

            //console.log(Schleswigpolygon.getBounds());
            console.log(Hamburg_polygon.getBounds().getNorthWest().lat);
            console.log(Hamburg_polygon.getBounds().getSouthEast().lng);
            console.log(Hamburg_polygon.getBounds().getSouthEast().lat);
            console.log(Hamburg_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        /*Mecklenburg*/
        Mecklenburg_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Mecklenburg_overlay.setBounds(Mecklenburg_polygon.getBounds());
        });

        Mecklenburg_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Mecklenburg_overlay.setBounds(Mecklenburg_polygon.getBounds());
        });

        Mecklenburg_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Mecklenburg_overlay.setBounds(Mecklenburg_polygon.getBounds());
            if(Number(Mecklenburg_polygon.getBounds().getNorthWest().lat)<54.822 && Number(Mecklenburg_polygon.getBounds().getSouthEast().lng)<14.731
                &&Number(Mecklenburg_polygon.getBounds().getSouthEast().lat)>52.929 && Number(Mecklenburg_polygon.getBounds().getNorthWest().lng)>10.343)
            {
                swal({
                    position: 'top-end',
                    text: 'Mecklenburg',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                });
                Mecklenburg_overlay.setBounds(Mecklenburg.getBounds());
                Mecklenburg_polygon.dragging.disable();
                mymap.removeLayer(Mecklenburg);
            }

            //console.log(Schleswigpolygon.getBounds());
            console.log(Mecklenburg_polygon.getBounds().getNorthWest().lat);
            console.log(Mecklenburg_polygon.getBounds().getSouthEast().lng);
            console.log(Mecklenburg_polygon.getBounds().getSouthEast().lat);
            console.log(Mecklenburg_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });

        /*Bremen*/
        Bremen_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Bremen_overlay.setBounds(Bremen_polygon.getBounds());
        });

        Bremen_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Bremen_overlay.setBounds(Bremen_polygon.getBounds());
        });

        Bremen_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Bremen_overlay.setBounds(Bremen_polygon.getBounds());
            if(Number(Bremen_polygon.getBounds().getNorthWest().lat)<53.662 && Number(Bremen_polygon.getBounds().getSouthEast().lng)<9.127
                &&Number(Bremen_polygon.getBounds().getSouthEast().lat)>52.961 && Number(Bremen_polygon.getBounds().getNorthWest().lng)>8.382)
            {
                swal({
                    position: 'top-end',
                    text: 'Bremen',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                });
                Bremen_overlay.setBounds(Bremen.getBounds());
                Bremen_polygon.dragging.disable();
                mymap.removeLayer(Bremen);
            }

            //console.log(Schleswigpolygon.getBounds());
            console.log(Bremen_polygon.getBounds().getNorthWest().lat);
            console.log(Bremen_polygon.getBounds().getSouthEast().lng);
            console.log(Bremen_polygon.getBounds().getSouthEast().lat);
            console.log(Bremen_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        /*Niedersachsen*/
        Niedersachsen_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Niedersachsen_overlay.setBounds(Niedersachsen_polygon.getBounds());
        });

        Niedersachsen_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Niedersachsen_overlay.setBounds(Niedersachsen_polygon.getBounds());
        });

        Niedersachsen_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Niedersachsen_overlay.setBounds(Niedersachsen_polygon.getBounds());
            if(Number(Niedersachsen_polygon.getBounds().getNorthWest().lat)<54.081 && Number(Niedersachsen_polygon.getBounds().getSouthEast().lng)<11.864
                &&Number(Niedersachsen_polygon.getBounds().getSouthEast().lat)>51.151 && Number(Niedersachsen_polygon.getBounds().getNorthWest().lng)>6.372)
            {
                swal({
                    position: 'top-end',
                    text: 'Niedersachsen',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                });
                Niedersachsen_overlay.setBounds(Nieder_spare.getBounds());
                Niedersachsen_polygon.dragging.disable();
                mymap.removeLayer(Niedersachsen);
            }

            //console.log(Schleswigpolygon.getBounds());
            console.log(Niedersachsen_polygon.getBounds().getNorthWest().lat);
            console.log(Niedersachsen_polygon.getBounds().getSouthEast().lng);
            console.log(Niedersachsen_polygon.getBounds().getSouthEast().lat);
            console.log(Niedersachsen_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        /*Hessen*/
        Hessen_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Hessen_overlay.setBounds(Hessen_polygon.getBounds());
        });

        Hessen_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Hessen_overlay.setBounds(Hessen_polygon.getBounds());
        });

        Hessen_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Hessen_overlay.setBounds(Hessen_polygon.getBounds());
            if(Number(Hessen_polygon.getBounds().getNorthWest().lat)<51.777 && Number(Hessen_polygon.getBounds().getSouthEast().lng)<10.507
                &&Number(Hessen_polygon.getBounds().getSouthEast().lat)>49.282 && Number(Hessen_polygon.getBounds().getNorthWest().lng)>7.511)
            {
                swal({
                    position: 'top-end',
                    text: 'Hessen',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                });
                Hessen_overlay.setBounds(Hessen.getBounds());
                Hessen_polygon.dragging.disable();
                mymap.removeLayer(Hessen);
            }
            //console.log(Schleswigpolygon.getBounds());
            console.log(Hessen_polygon.getBounds().getNorthWest().lat);
            console.log(Hessen_polygon.getBounds().getSouthEast().lng);
            console.log(Hessen_polygon.getBounds().getSouthEast().lat);
            console.log(Hessen_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        /*Thueringen*/
        Thueringen_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Thueringen_overlay.setBounds(Thueringen_polygon.getBounds());
        });

        Thueringen_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Thueringen_overlay.setBounds(Thueringen_polygon.getBounds());
        });

        Thueringen_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Thueringen_overlay.setBounds(Thueringen_polygon.getBounds());
            if(Number(Thueringen_polygon.getBounds().getNorthWest().lat)<51.758 && Number(Thueringen_polygon.getBounds().getSouthEast().lng)<12.873
                &&Number(Thueringen_polygon.getBounds().getSouthEast().lat)>50.073 && Number(Thueringen_polygon.getBounds().getNorthWest().lng)>9.624)
            {
                swal({
                    position: 'top-end',
                    text: 'Thueringen',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                });
                Thueringen_overlay.setBounds(Thueringen.getBounds());
                Thueringen_polygon.dragging.disable();
                mymap.removeLayer(Thueringen);
            }
            //console.log(Schleswigpolygon.getBounds());
            console.log(Thueringen_polygon.getBounds().getNorthWest().lat);
            console.log(Thueringen_polygon.getBounds().getSouthEast().lng);
            console.log(Thueringen_polygon.getBounds().getSouthEast().lat);
            console.log(Thueringen_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        /*Sachsen*/
        Sachsen_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Sachsen_overlay.setBounds(Sachsen_polygon.getBounds());
        });

        Sachsen_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Sachsen_overlay.setBounds(Sachsen_polygon.getBounds());
        });

        Sachsen_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Sachsen_overlay.setBounds(Sachsen_polygon.getBounds());
            if(Number(Sachsen_polygon.getBounds().getNorthWest().lat)<51.825 && Number(Sachsen_polygon.getBounds().getSouthEast().lng)<15.299
                &&Number(Sachsen_polygon.getBounds().getSouthEast().lat)>49.991 && Number(Sachsen_polygon.getBounds().getNorthWest().lng)>11.662)
            {
                swal({
                    position: 'top-end',
                    text: 'Sachsen',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                });
                Sachsen_overlay.setBounds(Sachsen.getBounds());
                Sachsen_polygon.dragging.disable();
                mymap.removeLayer(Sachsen);
            }
            //console.log(Schleswigpolygon.getBounds());
            console.log(Sachsen_polygon.getBounds().getNorthWest().lat);
            console.log(Sachsen_polygon.getBounds().getSouthEast().lng);
            console.log(Sachsen_polygon.getBounds().getSouthEast().lat);
            console.log(Sachsen_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        /*NRW*/
        NRW_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            NRW_overlay.setBounds(NRW_polygon.getBounds());
        });

        NRW_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            NRW_overlay.setBounds(NRW_polygon.getBounds());
        });

        NRW_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            NRW_overlay.setBounds(NRW_polygon.getBounds());
            if(Number(NRW_polygon.getBounds().getNorthWest().lat)<52.612 && Number(NRW_polygon.getBounds().getSouthEast().lng)<9.741
                &&Number(NRW_polygon.getBounds().getSouthEast().lat)>50.185 && Number(NRW_polygon.getBounds().getNorthWest().lng)>5.513)
            {
                swal({
                    position: 'top-end',
                    text: 'NRW',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                });
                NRW_overlay.setBounds(NRW_spare.getBounds());
                NRW_polygon.dragging.disable();
                mymap.removeLayer(NRW);
            }
            //console.log(Schleswigpolygon.getBounds());
            console.log(NRW_polygon.getBounds().getNorthWest().lat);
            console.log(NRW_polygon.getBounds().getSouthEast().lng);
            console.log(NRW_polygon.getBounds().getSouthEast().lat);
            console.log(NRW_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });

        /*Bayern*/
        Bayern_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Bayern_overlay.setBounds(Bayern_polygon.getBounds());
        });

        Bayern_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Bayern_overlay.setBounds(Bayern_polygon.getBounds());
        });

        Bayern_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Bayern_overlay.setBounds(Bayern_polygon.getBounds());
            if(Number(Bayern_polygon.getBounds().getNorthWest().lat)<50.717 && Number(Bayern_polygon.getBounds().getSouthEast().lng)<14.204
                &&Number(Bayern_polygon.getBounds().getSouthEast().lat)>47.059 && Number(Bayern_polygon.getBounds().getNorthWest().lng)>8.620)
            {
                swal({
                    position: 'top-end',
                    text: 'Bayern',
                    icon:'success',
                    buttons: false,
                    timer: 1000
                });
                Bayern_overlay.setBounds(Bayern_spare.getBounds());
                Bayern_polygon.dragging.disable();
                mymap.removeLayer(Bayern);
            }
            console.log(Bayern_polygon.getBounds());
            console.log(Bayern_polygon.getBounds().getNorthWest().lat);
            console.log(Bayern_polygon.getBounds().getSouthEast().lng);
            console.log(Bayern_polygon.getBounds().getSouthEast().lat);
            console.log(Bayern_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        /*Rheinland*/
        Rheinland_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Rheinland_overlay.setBounds(Rheinland_polygon.getBounds());
        });

        Rheinland_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Rheinland_overlay.setBounds(Rheinland_polygon.getBounds());
        });

        Rheinland_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Rheinland_overlay.setBounds(Rheinland_polygon.getBounds());
            if(Number(Rheinland_polygon.getBounds().getNorthWest().lat)<51.119 && Number(Rheinland_polygon.getBounds().getSouthEast().lng)<8.700
                &&Number(Rheinland_polygon.getBounds().getSouthEast().lat)>48.783 && Number(Rheinland_polygon.getBounds().getNorthWest().lng)>5.733)
            {
                swal({
                    position: 'top-end',
                    text: 'Rheinland',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                });
                Rheinland_overlay.setBounds(Rheinland.getBounds());
                Rheinland_polygon.dragging.disable();
                mymap.removeLayer(Rheinland);
            }
            //console.log(Schleswigpolygon.getBounds());
            console.log(Rheinland_polygon.getBounds().getNorthWest().lat);
            console.log(Rheinland_polygon.getBounds().getSouthEast().lng);
            console.log(Rheinland_polygon.getBounds().getSouthEast().lat);
            console.log(Rheinland_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        /*Berlin*/
        Berlin_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Berlin_overlay.setBounds(Berlin_polygon.getBounds());
        });

        Berlin_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Berlin_overlay.setBounds(Berlin_polygon.getBounds());
        });

        Berlin_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Berlin_overlay.setBounds(Berlin_polygon.getBounds());
            if(Number(Berlin_polygon.getBounds().getNorthWest().lat)<52.726 && Number(Berlin_polygon.getBounds().getSouthEast().lng)<13.834
                &&Number(Berlin_polygon.getBounds().getSouthEast().lat)>52.281 && Number(Berlin_polygon.getBounds().getNorthWest().lng)>12.976)
            {
                swal({
                    position: 'top-end',
                    text: 'Berlin',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                })
                Berlin_overlay.setBounds(Berlin.getBounds());
                Berlin_polygon.dragging.disable();
                mymap.removeLayer(Berlin);
            }
            //console.log(Schleswigpolygon.getBounds());
            console.log(Berlin_polygon.getBounds().getNorthWest().lat);
            console.log(Berlin_polygon.getBounds().getSouthEast().lng);
            console.log(Berlin_polygon.getBounds().getSouthEast().lat);
            console.log(Berlin_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });

        /*Brandenburg*/
        Brandenburg_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Brandenburg_overlay.setBounds(Brandenburg_polygon.getBounds());
        });

        Brandenburg_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Brandenburg_overlay.setBounds(Brandenburg_polygon.getBounds());
        });

        Brandenburg_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Brandenburg_overlay.setBounds(Brandenburg_polygon.getBounds());
            if(Number(Brandenburg_polygon.getBounds().getNorthWest().lat)<53.733 && Number(Brandenburg_polygon.getBounds().getSouthEast().lng)<15.035
                &&Number(Brandenburg_polygon.getBounds().getSouthEast().lat)>51.207 && Number(Brandenburg_polygon.getBounds().getNorthWest().lng)>10.819)
            {
                swal({
                    position: 'top-end',
                    text: 'Brandenburg',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                })
                Brandenburg_overlay.setBounds(Brandenburg_spare.getBounds());
                Brandenburg_polygon.dragging.disable();
                mymap.removeLayer(Brandenburg);
            }

            //console.log(Schleswigpolygon.getBounds());
            console.log(Brandenburg_polygon.getBounds().getNorthWest().lat);
            console.log(Brandenburg_polygon.getBounds().getSouthEast().lng);
            console.log(Brandenburg_polygon.getBounds().getSouthEast().lat);
            console.log(Brandenburg_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });

        /*Sachsen_anhalt*/
        Sachsen_Anhalt_polygon.on('drag',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Sachsen_Anhalt_overlay.setBounds(Sachsen_Anhalt_polygon.getBounds());
        });

        Sachsen_Anhalt_polygon.on('dragstart',function (e) {
            //console.log(Schleswigpolygon.getBounds());
            Sachsen_Anhalt_overlay.setBounds(Sachsen_Anhalt_polygon.getBounds());
        });

        Sachsen_Anhalt_polygon.on('dragend',function (e) {
            //console.log(Schleswigpolygon.getBounds());

            Sachsen_Anhalt_overlay.setBounds(Sachsen_Anhalt_polygon.getBounds());
            if(Number(Sachsen_Anhalt_polygon.getBounds().getNorthWest().lat)<53.150 && Number(Sachsen_Anhalt_polygon.getBounds().getSouthEast().lng)<13.404
                &&Number(Sachsen_Anhalt_polygon.getBounds().getSouthEast().lat)>50.806 && Number(Sachsen_Anhalt_polygon.getBounds().getNorthWest().lng)>10.360)
            {
                swal({
                    position: 'top-end',
                    text: 'Sachsen_Anhalt',
                    icon:"success",
                    buttons: false,
                    timer: 1000
                })
                Sachsen_Anhalt_overlay.setBounds(Sachsen_Anhalt.getBounds());
                Sachsen_Anhalt_polygon.dragging.disable();
                mymap.removeLayer(Sachsen_Anhalt);
            }

            //console.log(Schleswigpolygon.getBounds());
            console.log(Sachsen_Anhalt_polygon.getBounds().getNorthWest().lat);
            console.log(Sachsen_Anhalt_polygon.getBounds().getSouthEast().lng);
            console.log(Sachsen_Anhalt_polygon.getBounds().getSouthEast().lat);
            console.log(Sachsen_Anhalt_polygon.getBounds().getNorthWest().lng);
            console.log("------------------------");

        });


        $("#Germany").click(function () {
            DEadd();
            mymap.flyTo([51.65001, 10.67920],6);
        });


        $("#Europa").click(function () {
            DEremove();
            mymap.flyTo([48.82791, 17.28320],5);
        });

        $("#China").click(function () {
            DEremove();
        });

        function DEadd(){
            mymap.addLayer(Bremen);
            mymap.addLayer(Berlin);
            mymap.addLayer(Brandenburg);
            mymap.addLayer(Thueringen);
            mymap.addLayer(Badenwuer);
            mymap.addLayer(Bayern);
            mymap.addLayer(Saarland);
            mymap.addLayer(Sachsen);
            mymap.addLayer(Sachsen_Anhalt);
            mymap.addLayer(Hamburg);
            mymap.addLayer(Hessen);
            mymap.addLayer(Niedersachsen);
            mymap.addLayer(NRW);
            mymap.addLayer(Rheinland);
            mymap.addLayer(Mecklenburg);
            mymap.addLayer(Schleswig);
            mymap.addLayer(Bremen_overlay);
            mymap.addLayer(Berlin_overlay);
            mymap.addLayer(Brandenburg_overlay);
            mymap.addLayer(Thueringen_overlay);
            mymap.addLayer(Badenwuer_overlay);
            mymap.addLayer(Bayern_overlay);
            mymap.addLayer(Saarland_overlay);
            mymap.addLayer(Sachsen_overlay);
            mymap.addLayer(Sachsen_Anhalt_overlay);
            mymap.addLayer(Hamburg_overlay);
            mymap.addLayer(Hessen_overlay);
            mymap.addLayer(Niedersachsen_overlay);
            mymap.addLayer(NRW_overlay);
            mymap.addLayer(Rheinland_overlay);
            mymap.addLayer(Mecklenburg_overlay);
            mymap.addLayer(Schleswig_overlay);
        }
        function DEremove(){
            mymap.removeLayer(Bremen);
            mymap.removeLayer(Bremen_overlay);
            mymap.removeLayer(Berlin);
            mymap.removeLayer(Berlin_overlay);
            mymap.removeLayer(Brandenburg);
            mymap.removeLayer(Brandenburg_overlay);
            mymap.removeLayer(Thueringen);
            mymap.removeLayer(Thueringen_overlay);
            mymap.removeLayer(Badenwuer);
            mymap.removeLayer(Badenwuer_overlay);
            mymap.removeLayer(Bayern);
            mymap.removeLayer(Bayern_overlay);
            mymap.removeLayer(Saarland);
            mymap.removeLayer(Saarland_overlay);
            mymap.removeLayer(Sachsen);
            mymap.removeLayer(Sachsen_overlay);
            mymap.removeLayer(Sachsen_Anhalt);
            mymap.removeLayer(Sachsen_Anhalt_overlay);
            mymap.removeLayer(Hamburg);
            mymap.removeLayer(Hamburg_overlay);
            mymap.removeLayer(Hessen);
            mymap.removeLayer(Hessen_overlay);
            mymap.removeLayer(Niedersachsen);
            mymap.removeLayer(Niedersachsen_overlay);
            mymap.removeLayer(NRW);
            mymap.removeLayer(NRW_overlay);
            mymap.removeLayer(Rheinland);
            mymap.removeLayer(Rheinland_overlay);
            mymap.removeLayer(Mecklenburg);
            mymap.removeLayer(Mecklenburg_overlay);
            mymap.removeLayer(Schleswig);
            mymap.removeLayer(Schleswig_overlay);
        }

        $("#export_Stage").click(function(){
            var txt="<?xml version=\"1.0\" encoding=\"UTF-8\"?>"+'\n';
            txt= txt + "<exercise type=\"fillIn\">"+'\n';
            txt= txt + "    <task>"+'\n';
            txt= txt + createXMLStringMapPuzzleGermany() +'\n';
            txt= txt + "    </task>"+'\n';
            txt= txt + "   <skipmessage>" +'\n';
            txt= txt + "   </skipmessage>"+'\n';
            txt= txt + "</exercise>";
            var blob = new Blob([txt], {type: "text/plain;charset=utf-8"});
            saveAs(blob, "stage1.xml");
        });


        $("#export_exerciseChain").click(function () {
            var txt="<?xml version=\"1.0\" encoding=\"UTF-8\"?>"+'\n';
            txt= txt + "<exercisechain>"+'\n';
            txt= txt + "  <step id=\"1\" displayName=\"Stage 1\" file=\"stage1.xml\" >" +'\n';
            txt= txt + "    <next default=\"repeat\" message=\"Versuche es noch mal.\" >"+ '\n';
            txt= txt + "      <path target=\"end\" result=\"100\" />" + '\n' + "    </next>"+'\n';
            txt= txt + "  </step>"+'\n';
            txt= txt + "</exercisechain>";
            var blob = new Blob([txt], {type: "text/plain;charset=utf-8"});
            saveAs(blob, "exerciseChain.xml");
        });


        // $("#sldOpacity").on('change', function(){
        //     $("#image-opacity").html(this.value);
        //     Saarland.setOpacity(this.value);
        // });

        function LatLngToArrayString(ll) {
            return "["+ll.lat.toFixed(5)+", "+ll.lng.toFixed(5)+"]";
        }

    });
</script>
</body>
</html>